(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["mail"],{3344:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return c})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return u}));var a=n("1da1"),r=(n("96cf"),n("e63b")),i=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["b"])("/admin/v1/category-mail",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["b"])("/admin/v1/category-mail/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["c"])("/admin/v1/category-mail",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["d"])("/admin/v1/category-mail/".concat(e),n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["a"])("/admin/v1/category-mail/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},9841:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mail container-fluid"},[n("p",{staticClass:"h5 font-weight-bold"},[t._v("Quản lý mail")]),n("div",{staticClass:"row main mt-4"},[n("div",{staticClass:"col-12 border-bottom"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-striped"},[t._m(0),n("tbody",[t._l(t.mails,(function(e,a){return n("tr",{key:a},[n("td",[t._v(t._s(e.new_id))]),n("td",{staticClass:"pointer"},[t._v(t._s(e.title))]),n("td",{staticClass:"text-center"},[n("button",{staticClass:"btn btn-primary mr-2",on:{click:function(n){return t.goDetail(e)}}},[t._v(" Chi tiết ")]),t.$myCanDelete()?n("button",{staticClass:"btn btn-danger",on:{click:function(n){return t.deleteNew(e)}}},[t._v(" xóa ")]):t._e()])])})),n("no-data",{attrs:{data:t.mails,colspan:3}})],2)])])])])])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",[t._v("ID")]),n("th",[t._v("Loại email")]),n("th",{staticClass:"text-center",attrs:{width:"145px"}},[t._v(" Hành động ")])])])}],i=n("1da1"),s=(n("96cf"),n("3344")),c={data:function(){return{mails:[]}},computed:{},watch:{},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getData();case 1:case"end":return e.stop()}}),e)})))()},methods:{getData:function(){var t=this,e={};Object(s["d"])(e).then((function(e){e.data.success===API_STATUS_SUCCESS&&(t.mails=e.data.data.data)}))},goCreate:function(){this.$myCanCreate()&&this.$router.push({name:"mail-add"})},goDetail:function(t){this.$router.push({name:"mail-show",params:{id:t.id}})}}},o=c,u=n("2877"),l=Object(u["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports},fd0a:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mail-show"},[n("span",{staticClass:"h5 font-weight-bold"},[t._v(" "+t._s(t.id?"Chi tiết ":"Thêm mới ")+"email")]),n("div",{staticClass:"mt-3 font-weight-bold"},[n("label",{attrs:{for:"title"}},[t._v("Loại Email")]),n("div",{staticClass:"input-group mb-3"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",class:{"is-invalid":t.errors.title},attrs:{disabled:!t.$myCanUpdate(),placeholder:"Tên mail",type:"text",id:"title"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.title))])])]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"font-weight-bold"},[t._v("Nội dung")]),n("editor",{class:{"is-invalid":t.errors.content},attrs:{disabled:!t.$myCanUpdate()},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}}),n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.content))])],1),t.$myCanUpdate()||t.$myCanDelete()?n("buttom-fixed",[n("div",{class:{"w-100 d-flex justify-content-between":"mobile"===t.$detect}},[[t.id&&t.$myCanUpdate()?n("button",{staticClass:"btn btn-primary px-5 mr-2 mt-3 size-button",style:"mobile"===t.$detect&&t.$myCanDelete()?"width:49%;":"width:100%",attrs:{disabled:t.loading},on:{click:function(e){return t.updateMail()}}},[t._v(" Sửa ")]):!t.id&&t.$myCanCreate()?n("button",{staticClass:"btn btn-success px-5 mr-2 mt-3 size-button",style:"mobile"===t.$detect&&t.$myCanDelete()?"width:49%;":"width:100%",attrs:{disabled:t.loading},on:{click:function(e){return t.addMail()}}},[t._v(" Lưu ")]):t._e()],t.$myCanDelete()?n("button",{staticClass:"btn btn-danger px-5 mt-3 size-button",style:"mobile"===t.$detect&&(t.$myCanUpdate()||t.$myCanCreate())?"width:49%;":"width:100%",attrs:{disabled:t.isDelete},on:{click:function(e){return t.deleteMail()}}},[t._v("Xóa")]):t._e()],2)]):t._e()],1)},r=[],i=n("1da1"),s=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("3344")),c={components:{editor:function(){return n.e("chunk-58f38244").then(n.bind(null,"b939"))}},data:function(){return{id:this.$route.params.id,title:"",errors:{},isDelete:!0,loading:!1,form:{title:"",content:""}}},created:function(){this.id&&this.getData()},methods:{getData:function(){var t=this;this.$route.params.id?(this.isDelete=!1,this.id=this.$route.params.id,Object(s["c"])(this.id).then((function(e){e.data.success===API_STATUS_SUCCESS&&(t.form.title=e.data.data.title,t.form.content=e.data.data.content)}))):(this.id=this.$route.params.id,this.isDelete=!0,this.form.title="",this.form.content="")},addMail:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.errors={},n={},null!==t.form.title&&""!==t.form.title&&(n.title=t.form.title),null!==t.form.content&&""!==t.form.content&&(n.content=t.form.content),e.next=7,Object(s["a"])(n).then((function(e){e.data.success===API_STATUS_SUCCESS?(t.$route.params.id=e.data.data.id,t.$showMessage(e.data.message,"success"),t.loading=!0,t.getData()):t.$showMessage(e.data.message,"warning")})).catch((function(e){t.requestError(e)}));case 7:t.loading=!1;case 8:case"end":return e.stop()}}),e)})))()},updateMail:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,t.errors={},n={},null!==t.form.title&&""!==t.form.title&&(n.title=t.form.title),null!==t.form.content&&""!==t.form.content&&(n.content=t.form.content),e.next=7,Object(s["e"])(t.id,n).then((function(e){e.data.success===API_STATUS_SUCCESS?(t.$showMessage(e.data.message,"success"),t.loading=!0):t.$showMessage(e.data.message,"warning")})).catch((function(e){t.requestError(e)}));case 7:t.loading=!1;case 8:case"end":return e.stop()}}),e)})))()},deleteMail:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isDelete=!0,e.next=3,t.$confirm("Bạn có chắc muốn xóa ".concat(t.title," <b>").concat(t.form.title,"</b>"),"Xóa ".concat(t.title),{confirmButtonText:"Đồng ý",cancelButtonText:"Hủy",type:"error"}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["b"])(t.id).then((function(e){e.data.success===API_STATUS_SUCCESS?(t.$showMessage(e.data.message,"success"),t.$route.params.id="",t.getData()):t.$showMessage(e.data.message,"warning")})).catch((function(e){e.status==HTTP_CODE_GONE&&t.$showMessage(e.data.data.message,"warning")}));case 2:case"end":return e.stop()}}),e)})))).catch((function(){}));case 3:case"end":return e.stop()}}),e)})))()},requestError:function(t){t.status===HTTP_CODE_GONE?this.$showMessage(t.data.message,"warning"):t.status===HTTP_CODE_UNPROCESSABLE_ENTITY&&(this.errors=t.data.data.data)}}},o=c,u=n("2877"),l=Object(u["a"])(o,a,r,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=mail.03d36241.js.map