(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec2e8eaa"],{"0219":function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"h",(function(){return p})),n.d(t,"b",(function(){return d}));var a=n("1da1"),r=(n("96cf"),n("e63b")),i=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["b"])("/admin/v1/employee",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["c"])("/admin/v1/employee",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["b"])("/admin/v1/employee/export_excel_example");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["b"])("/admin/v1/employee/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["d"])("/admin/v1/employee/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["c"])("/admin/v1/employee/".concat(t,"/delete_image"),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["c"])("/admin/v1/employee/import_excel",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["a"])("admin/v1/employee/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"103d":function(e,t,n){"use strict";n("2132")},2132:function(e,t,n){},e673:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:e.v_loading,expression:"v_loading"}],staticClass:"container-fluid py-lg-3 mt-3 pt-3 bg-white shadow-sm",staticStyle:{"border-radius":"5px"}},["partner-add"!=e.$route.name?n("div",{staticClass:"inforEmploye"},[n("h4",{staticClass:"mb-3 font-weight-bold"},[e._v(" Thông tin nhân viên ")]),n("div",{staticClass:"d-flex align-items-lg-end flex-column flex-lg-row justify-content-between pb-4"},[n("div",[e.$myCanUploadExcel()?n("button",{staticClass:"btn btn-info mr-3 position-relative"},[e._m(0),n("input",{ref:"file",staticClass:"ip-excel",attrs:{type:"file",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},on:{change:function(t){return e.uploadFile()}}})]):e._e(),e.$myCanUploadExcel()?n("button",{staticClass:"btn btn-primary mr-3 position-relative",on:{click:function(t){return e.exportSample()}}},[e._m(1)]):e._e(),e.$myCanCreate()?n("button",{staticClass:"btn btn-success",on:{click:function(t){return e.goCreate()}}},[n("i",{staticClass:"icon ion-md-add"}),e._v(" Thêm mới ")]):e._e()]),n("div",{staticClass:"d-flex align-items-end justify-content-lg-end mt-3 mt-lg-0"},[n("div",{staticClass:"flex-grow-1 glex-grow-lg-0 position-relative"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:"form-control size-input",attrs:{placeholder:"Tìm kiếm theo họ tên, SĐT, email"},domProps:{value:e.keyword},on:{input:[function(t){t.target.composing||(e.keyword=t.target.value)},function(t){return e.search()}]}}),""!==e.keyword&&"mobile"===e.$detect?n("span",{staticClass:"position-absolute",staticStyle:{top:"50%",right:"6px",transform:"translateY(-50%)"},on:{click:function(t){return e.clearFilter()}}},[n("i",{staticClass:"icon ion-md-close-circle-outline",staticStyle:{color:"#d5d5d5","font-size":"18px"}})]):e._e()]),"web"===e.$detect?n("div",{staticClass:"ml-3"},[n("button",{staticClass:"btn btn-secondary w-100",attrs:{disabled:""===e.keyword},on:{click:function(t){return e.clearFilter()}}},[e._v(" Bỏ lọc ")])]):e._e()])]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",[e._v("ID")]),n("th",{staticStyle:{"min-width":"120px"}},[e._v("Họ tên")]),n("th",{staticStyle:{"min-width":"80px"}},[e._v("Chức vụ")]),n("th",{staticStyle:{"min-width":"110px"}},[e._v("Số điện thoại")]),n("th",{class:"mobile"==e.$detect?"d-none":""},[e._v("Email")]),n("th",{class:"mobile"==e.$detect?"d-none":"",staticStyle:{"min-width":"150px"}},[e._v(" Thời gian cập nhật ")]),n("th",{style:"company-information"==e.$route.name?"min-width: 150px":"min-width: 100px",attrs:{width:"150px"}},[e._v(" Hành động ")])])]),n("tbody",e._l(e.getEmployee,(function(t){return n("tr",{key:t.id},[n("td",[e._v(e._s(t.employee_id))]),n("td",{staticClass:"pointer",on:{click:function(n){return e.goDetail(t.id)}}},[e._v(e._s(t.name))]),n("td",[e._v(e._s(t.position))]),n("td",[e._v(e._s(t.phone))]),n("td",{class:"mobile"==e.$detect?"d-none":""},[e._v(" "+e._s(t.email)+" ")]),n("td",{class:"mobile"==e.$detect?"d-none":""},[e._v(" "+e._s(t.time_updated)+" ")]),n("td",[n("button",{staticClass:"btn btn-primary",staticStyle:{"margin-right":"5px"},attrs:{disabled:e.loading},on:{click:function(n){return e.goDetail(t.id)}}},[e._v(" Chi tiết ")]),"ADMIN_CMS"!=e.classify?n("button",{staticClass:"btn btn-danger",attrs:{disabled:e.loading},on:{click:function(n){return e.deleteEmployee(t.id)}}},[e._v(" Xóa ")]):e._e()])])})),0)]),0===e.getEmployee.length?n("div",{staticClass:"text-center text-black-50 py-4"},[e._v(" Không có dữ liệu ")]):e._e()])]),n("div",{staticClass:"col-12"},[n("ldc-pagination",{staticClass:"pt-4 border-top",attrs:{current_page:e.page,last_page:e.total,scroll_top:!0,callData:e.changePage}})],1)]),n("partnerEmployee",{attrs:{visible:e.dialogEmployee,employee:e.employee,classify:e.classify,status:e.dialogEmployeeStatus},on:{"update:visible":function(t){e.dialogEmployee=t}}})],1):e._e()])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("i",{staticClass:"icon ion-md-cloud-upload"}),e._v(" Tải lên (xlxs/csv)")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("i",{staticClass:"icon ion-md-cloud-download"}),e._v(" Tải xuống mẫu")])}],i=n("1da1"),o=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("b0c0"),n("ac1f"),n("1276"),n("0219")),s={props:["classify"],components:{partnerEmployee:function(){return n.e("chunk-0e7be37a").then(n.bind(null,"4796"))}},data:function(){return{id:this.$route.params.id,getEmployee:[],page:this.$route.query.page?parseInt(this.$route.query.page):1,pageSize:0,loading:!1,total:0,idEmployee:"",keyword:"",dialogEmployee:!1,dialogEmployeeStatus:"create",file:"",errors:{},employee:{},formEmployee:{avatar:"",birthday:"",id:"",id_business:"",id_number:"",labor_contract:"",name:"",name_search:"",other_info:"",phone:"",position:"",salary:"",salary_increase:"",time_created:"",time_to_work:"",time_updated:""},v_loading:!1}},created:function(){this.getDataEmployee()},computed:{query:function(){return this.$route.query}},watch:{query:function(e){this.getDataEmployee()}},methods:{uploadFile:function(){var e=this;this.file=this.$refs.file.files[0],console.log(this.file),this.file&&(this.uploadFileExcel(this.file).then((function(t){e.$showMessage(t.data.message,"success")})).catch((function(t){e.$showMessage(t.data.data.message,"warning")})),this.getDataEmployee())},exportSample:function(){var e=this;this.v_loading=!0,Object(o["e"])().then((function(t){t.data.success===API_STATUS_SUCCESS?window.open(t.data.urlDownload):e.$showMessage(t.data.message,"warning")})).catch((function(t){return e.v_loading=!1})),this.v_loading=!1},changePage:function(e){this.page=e,this.changeUrl()},search:function(){var e=this;this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout((function(){e.page=1,e.changeUrl()}),500)},clearFilter:function(){this.keyword="",this.page=1,this.changeUrl()},changeUrl:function(){this.$router.push({name:this.$route.name,query:this.setQuery()})},setQuery:function(){var e={};return""!==this.keyword&&(e.keyword=this.keyword),this.page>1&&(e.page=this.page),e},goCreate:function(){"company-information"==this.$route.name?this.$router.push({name:"add-employee"}):(this.dialogEmployee=!0,this.dialogEmployeeStatus="create")},deleteEmployee:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$confirm("Bạn có chắc chắn xóa ","Xóa nhân viên",{confirmButtonText:"Đồng ý",cancelButtonText:"Hủy",type:"error"}).then(Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,n.next=3,Object(o["b"])(e).then((function(e){t.$showMessage(e.data.data.message),t.getDataEmployee()}));case 3:t.loading=!1;case 4:case"end":return n.stop()}}),n)})))).catch((function(){}));case 2:case"end":return n.stop()}}),n)})))()},uploadFileExcel:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=new FormData,a.append("file",e),n.next=4,Object(o["h"])(a).then((function(e){t.loading=!0,t.$showMessage(e.data.message),t.loading=!1}));case 4:t.file="";case 5:case"end":return n.stop()}}),n)})))()},goDetail:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("company-information"!=t.$route.name){n.next=4;break}t.$router.push({name:"detail-employee",params:{id:e}}),n.next=14;break;case 4:if("partner-show"!=t.$route.name||"mobile"!=t.$detect){n.next=8;break}t.$router.push({name:"partner-show-emplyee",params:{id:e}}),n.next=14;break;case 8:return t.loading=!0,n.next=11,t.detailEmployee(e);case 11:t.loading=!1,t.dialogEmployee=!0,t.dialogEmployeeStatus="show";case 14:case"end":return n.stop()}}),n)})))()},getDataEmployee:function(){var e=this,t={};t.id_business=this.id,""!==this.keyword&&(t.keyword=this.keyword),this.page>1&&(t.page=this.page),Object(o["f"])(t).then((function(t){e.getEmployee=t.data.data.data;var n=t.data.data.meta.pagination;e.page=n.current_page,e.pageSize=n.per_page,e.total=n.total_pages}))},detailEmployee:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e,n.next=3,Object(o["d"])(a).then((function(e){var n=e.data.data;if(t.employee=n,t.employee.birthday){var a=t.employee.birthday.split("-");t.employee.birthday=a[2]+"-"+a[1]+"-"+a[0]}if(t.employee.time_to_work){a=t.employee.time_to_work.split("-");t.employee.time_to_work=a[2]+"-"+a[1]+"-"+a[0]}}));case 3:case"end":return n.stop()}}),n)})))()},callData:function(e){e&&(this.page=1,this.keyword="",this.changeUrl(),this.getDataEmployee())}}},c=s,u=(n("103d"),n("2877")),l=Object(u["a"])(c,a,r,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-ec2e8eaa.659a57c5.js.map