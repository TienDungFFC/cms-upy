(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["step"],{"1c10":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"step container-fluid"},["web"===t.$detect?a("p",{staticClass:"h5 font-weight-bold"},[t._v("Quản lý các bước vay tiền")]):t._e(),a("button",{staticClass:"btn btn-success mt-3 mt-md-5",on:{click:function(e){return t.sort()}}},[t._v("Sắp xếp")]),a("div",{staticClass:"row main mt-3 mt-md-4"},[a("div",{staticClass:"col-12 border-bottom"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-striped"},[t._m(0),a("tbody",[t._l(t.steps,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(e.step_id))]),a("td",[a("router-link",{staticClass:"format-link",attrs:{to:t.goDetail(e)}},[t._v(" "+t._s(e.title)+" ")])],1),a("td",{staticClass:"text-center"},[1==e.default_include?a("span",{staticClass:"text-success"},[t._v("Mặc định")]):a("span",{staticClass:"text-danger"},[t._v("Không hoạt động")])]),a("td",{staticClass:"text-center"},[a("router-link",{attrs:{to:t.goDetail(e)}},[a("button",{staticClass:"btn btn-primary"},[t._v(" Chi tiết ")])])],1)])})),a("no-data",{attrs:{data:t.steps,colspan:4}})],2)])])])]),a("detailStep",{attrs:{visible:t.dialog},on:{"update:visible":function(e){t.dialog=e},callData:t.callData}})],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("Tên")]),a("th",{staticClass:"text-center"},[t._v("Trạng thái")]),a("th",{staticClass:"text-center",attrs:{width:"100px"}},[t._v("Hành động")])])])}],s=(a("d3b7"),a("3ca3"),a("ddb0"),a("7504")),i={components:{detailStep:function(){return a.e("chunk-2d0d078d").then(a.bind(null,"67b8"))}},data:function(){return{steps:[],dialog:!1}},computed:{query:function(){return this.$route.query}},watch:{query:function(t){this.getData()}},created:function(){this.getData()},methods:{getData:function(){var t=this;Object(s["b"])().then((function(e){e.data.success===API_STATUS_SUCCESS&&(t.steps=e.data.data.data)}))},goDetail:function(t){return{name:"step-show",params:{id:t.id}}},sort:function(){this.dialog=!0},callData:function(t){t&&(this.changeUrl(),this.getData())},changeUrl:function(){this.$router.push({name:"step"})},changePage:function(t){this.page=t,this.changeUrl()}}},c=i,o=a("2877"),u=Object(o["a"])(c,n,r,!1,null,null,null);e["default"]=u.exports},"4a4a":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"step-show container-fluid"},[a("div",{staticClass:"mt-3 font-weight-bold"},[a("label",{attrs:{for:"title"}},[t._v("Tên")]),a("div",{staticClass:"input-group mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",class:{"is-invalid":t.errors.title},attrs:{disabled:!t.$myCanUpdate(),placeholder:"Tên",type:"text",id:"title"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.title))])])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"font-weight-bold"},[t._v("Hướng dẫn chụp hình")]),a("editor",{class:{"is-invalid":t.errors.instruct},attrs:{disabled:!t.$myCanUpdate()},model:{value:t.form.instruct,callback:function(e){t.$set(t.form,"instruct",e)},expression:"form.instruct"}}),a("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.instruct))])],1),a("div",[a("p",{staticClass:"font-weight-bold mb-1"},[t._v("Trạng thái")]),a("div",{staticClass:"form-check-inline"},[a("label",{staticClass:"form-check-label mr-5 d-flex align-items-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.default_include,expression:"form.default_include"}],staticClass:"form-check-input",attrs:{disabled:!t.$myCanUpdate(),type:"radio",name:"optradio"},domProps:{value:1,checked:t._q(t.form.default_include,1)},on:{change:function(e){return t.$set(t.form,"default_include",1)}}}),t._v("Mặc định ")]),a("label",{staticClass:"form-check-label d-flex align-items-center"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.default_include,expression:"form.default_include"}],staticClass:"form-check-input",attrs:{disabled:!t.$myCanUpdate(),type:"radio",name:"optradio"},domProps:{value:0,checked:t._q(t.form.default_include,0)},on:{change:function(e){return t.$set(t.form,"default_include",0)}}}),t._v("Không hoạt động ")])])]),t.$myCanUpdate()?a("buttom-fixed",[a("div",{class:{"w-100":"mobile"===t.$detect}},[a("button",{class:{"btn btn-success px-5 mr-md-3 mt-3":!0,"w-100 size-button":"mobile"===t.$detect},attrs:{disabled:t.loading},on:{click:function(e){return t.updateStep()}}},[t._v(" Lưu ")])])]):t._e()],1)},r=[],s=a("1da1"),i=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("7504")),c={components:{editor:function(){return a.e("chunk-58f38244").then(a.bind(null,"b939"))}},data:function(){return{id:this.$route.params.id,title:"",errors:{},loading:!1,form:{title:"",instruct:"",default_include:1}}},created:function(){this.id&&this.getStepDetail()},methods:{getStepDetail:function(){var t=this;Object(i["a"])(this.id).then((function(e){e.data.success===API_STATUS_SUCCESS?(t.form.title=e.data.data.title,t.form.instruct=e.data.data.instruct,t.form.default_include=e.data.data.default_include):t.$showMessage(e.data.message,"warning")}))},updateStep:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$myCanUpdate()){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,t.errors={},a={},a.default_include=parseInt(t.form.default_include),null!==t.form.title&&""!==t.form.title&&(a.title=t.form.title),null!==t.form.instruct&&""!==t.form.instruct&&(a.instruct=t.form.instruct),e.next=10,Object(i["c"])(t.id,a).then((function(e){e.data.success===API_STATUS_SUCCESS?(t.$showMessage(e.data.message,"success"),t.loading=!0):t.$showMessage(e.data.message,"warning")})).catch((function(e){t.requestError(e)}));case 10:t.loading=!1;case 11:case"end":return e.stop()}}),e)})))()},requestError:function(t){t.status===HTTP_CODE_GONE?this.$showMessage(t.data.message,"warning"):t.status===HTTP_CODE_UNPROCESSABLE_ENTITY&&(this.errors=t.data.data.data)}}},o=c,u=a("2877"),l=Object(u["a"])(o,n,r,!1,null,null,null);e["default"]=l.exports},7504:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"a",(function(){return i})),a.d(e,"c",(function(){return c}));var n=a("1da1"),r=(a("96cf"),a("e63b")),s=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["b"])("/admin/v1/step_loan_contract",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["b"])("/admin/v1/step_loan_contract/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["d"])("/admin/v1/step_loan_contract/".concat(e),a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=step.0e33985d.js.map