(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["loan-amount-management"],{"0949":function(t,e,a){"use strict";a.d(e,"c",(function(){return i})),a.d(e,"b",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"a",(function(){return c}));var n=a("1da1"),s=(a("96cf"),a("e63b")),i=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["b"])("/admin/v1/user",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["b"])("/admin/v1/user/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["d"])("/admin/v1/user/".concat(e),a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),c=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["a"])("/admin/v1/user/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},1938:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return o}));var n=a("1da1"),s=(a("96cf"),a("e63b")),i=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["b"])("/admin/v1/manager_loan_contract/".concat(e,"/loan-info"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["b"])("/admin/v1/manager_loan_contract",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["b"])("/admin/v1/manager_loan_contract/payment-period",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},3082:function(t,e,a){},"3a8b":function(t,e,a){"use strict";a("7f6b")},"7f6b":function(t,e,a){},e9c3:function(t,e,a){"use strict";a("3082")},eb45:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loan-show container-fluid"},[a("div",{staticClass:"d-flex align-items-center p-md-5 mt-md-0 mt-2"},[a("div",{staticClass:"avatar d-flex align-items-center rounded-circle overflow-hidden flex-shrink-0 flex-grow-0 mr-md-5 mr-3",style:"web"===t.$detect?"width: 132px; height: 132px;":"width: 100px; height: 100px;"},[a("img",{attrs:{src:t.$getUrlImage(t.infoUser.avatar),width:"100%"},on:{error:t.$errorImage}})]),a("div",[a("p",{class:{"h3 font-weight-bolder m-0":"web"===t.$detect,"h5 font-weight-bolder m-0":"mobile"===t.$detect}},[t._v(t._s(t.infoUser.name))]),a("p",{staticClass:"m-0"},[t._v(t._s(t.infoUser.email))]),a("p",{staticClass:"m-0"},[t._v(t._s(t.infoUser.phone))]),a("p",{class:{"mb-0 font-weight-bolder":!0,"mt-4":"web"===t.$detect,"mt-2 fs-11":"mobile"===t.$detect}},[t._v(" Đã thanh toán "+t._s(t.infoLoan.period_is_paid)+" kỳ, "+t._s(t.infoLoan.period_unpaid)+" kỳ chưa thanh toán ")])])]),a("div",{staticClass:"bg-light mt-md-4 p-md-5 py-3 mt-3"},[a("p",{staticClass:"h5 font-weight-bolder mb-3"},[t._v("Thông tin ứng lương")]),a("div",{staticClass:"d-md-flex justify-content-between"},[a("div",{staticClass:"text-center mt-3 d-flex flex-md-column box-info"},[a("p",{staticClass:"font-weight-bolder"},[t._v("Số tiền ứng")]),a("p",[t._v(t._s(t.infoLoan?t.infoLoan.loan:""))])]),a("div",{staticClass:"text-center mt-3 d-flex flex-md-column box-info"},[a("p",{staticClass:"font-weight-bolder"},[t._v("Thời gian ứng")]),a("p",[t._v(" "+t._s(t.infoLoan?t.infoLoan.disbursement_date:""))])]),a("div",{staticClass:"text-center mt-3 d-flex flex-md-column box-info"},[a("p",{staticClass:"font-weight-bolder"},[t._v("Thời gian ký hợp đồng")]),a("p",[t._v(" "+t._s(t.infoLoan?t.infoLoan.contract_signing_date:""))])]),a("div",{staticClass:"text-center mt-3 d-flex flex-md-column box-info"},[a("p",{staticClass:"font-weight-bolder"},[t._v("Thời gian giải ngân")]),a("p",[t._v(" "+t._s(t.infoLoan?t.infoLoan.disbursement_date:""))])]),a("div",{staticClass:"text-center mt-3 d-flex flex-md-column box-info"},[a("p",{staticClass:"font-weight-bolder"},[t._v("Trạng thái")]),a("p",[t._v(" "+t._s(t.infoLoan?t.infoLoan.type:"")+" ")])])])]),a("div",{staticClass:"bg-light mt-md-4 p-md-5 py-3 mt-3"},[a("div",{staticClass:"row"},[a("p",{staticClass:"col-12 h5 font-weight-bolder"},[t._v("Thông tin khoản vay")]),a("div",{staticClass:"col-12 d-md-flex justify-content-end align-items-end"},["web"===t.$detect?a("div",[a("div",{staticClass:"d-flex justify-content-end align-items-end"},[a("div",{staticClass:"m-2",staticStyle:{width:"250px"}},[a("p",{staticClass:"font-weight-bolder mb-2"},[t._v("Từ ngày")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.date.date_from,expression:"date.date_from"}],staticClass:"p-1",staticStyle:{width:"100%",height:"30px"},attrs:{type:"date"},domProps:{value:t.date.date_from},on:{input:function(e){e.target.composing||t.$set(t.date,"date_from",e.target.value)}}})]),a("div",{staticClass:"m-2",staticStyle:{width:"250px"}},[a("p",{staticClass:"font-weight-bolder mb-2"},[t._v("Đến ngày")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.date.date_to,expression:"date.date_to"}],staticClass:"p-1",staticStyle:{width:"100%",height:"30px"},attrs:{type:"date"},domProps:{value:t.date.date_to},on:{input:function(e){e.target.composing||t.$set(t.date,"date_to",e.target.value)}}})]),a("div",{staticClass:"ml-md-2 mt-md-0 mt-2 mb-2"},[a("button",{staticClass:"btn btn-primary mr-1 h-50",attrs:{disabled:t.loading},on:{click:function(e){return t.searchDate()}}},[t._v("Tìm kiếm")]),a("button",{staticClass:"btn btn-secondary ml-1 h-50",attrs:{disabled:""===t.date.date_from&&""===t.date.date_to},on:{click:function(e){return t.clearFilter()}}},[t._v("Bỏ lọc")])])])]):a("div",[a("ldc-model-mobile",{attrs:{titileCancel:"Hủy",showCancel:!1,showTitle:!0,title:"Tìm kiếm nâng cao",customButton:!0,visible:t.dialog},on:{"update:visible":function(e){t.dialog=e}}},[a("div",{attrs:{slot:"content-model"},slot:"content-model"},[a("div",{staticClass:"d-flex p-2"},[a("div",{staticClass:"mr-1 input-mb w-50"},[a("p",{staticClass:"font-weight-bolder mb-2 text-left"},[t._v("Từ ngày")]),a("div",{staticClass:"position-relative"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.date.date_from,expression:"date.date_from"}],staticClass:"input-mobile size-input rounded bg-white pl-2 input-date",staticStyle:{width:"100%",height:"30px"},attrs:{type:"date"},domProps:{value:t.date.date_from},on:{input:function(e){e.target.composing||t.$set(t.date,"date_from",e.target.value)}}}),t.isShowPlhd1?a("span",{staticClass:"position-absolute"},[t._v("Từ ngày")]):t._e()])]),a("div",{staticClass:"ml-1 input-mb w-50"},[a("p",{staticClass:"font-weight-bolder mb-2 text-left"},[t._v("Đến ngày")]),a("div",{staticClass:"position-relative"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.date.date_to,expression:"date.date_to"}],staticClass:"input-mobile size-input rounded bg-white pl-2 input-date",staticStyle:{width:"100%",height:"30px"},attrs:{type:"date"},domProps:{value:t.date.date_to},on:{input:function(e){e.target.composing||t.$set(t.date,"date_to",e.target.value)}}}),t.isShowPlhd2?a("span",{staticClass:"position-absolute"},[t._v("Đến ngày")]):t._e()])])])]),a("div",{attrs:{slot:"custom-buttom"},slot:"custom-buttom"},[a("div",{class:{"btn-confirm-android":t.$isAndroid,"btn-confirm-ios mb-10px btn-custom-ios":!t.$isAndroid}},[a("button",{staticClass:"btn btn-primary radius-ios text-uppercase mr-10px fs-14px btn-apply",attrs:{"close-model-mobile":""},on:{click:function(e){return t.searchDate()}}},[t._v("áp dụng")]),a("button",{staticClass:"btn btn-light radius-ios text-uppercase ml-10px fs-14px btn-cancel",attrs:{"close-model-mobile":""},on:{click:function(e){return t.clearFilter()}}},[t._v("Bỏ lọc")])])])])],1)]),a("div",{staticClass:"col-12 mt-3"},[a("div",{staticClass:"d-flex justify-content-between align-items-center"},[a("p",{staticClass:"font-weight-bolder m-0"},[t._v("Đã thanh toán: "+t._s(t.infoLoan.period_is_paid)+"/"+t._s(t.infoLoan.total_period)+" kỳ")]),"mobile"===t.$detect?a("i",{staticClass:"h3 filter icon ion-md-funnel",on:{click:function(e){t.dialog=!0}}}):t._e()])]),a("div",{staticClass:"col-12 border-bottom mt-2"},[a("div",{staticClass:"table-responsive"},[a("table",{class:{"table table-striped":!0,"table-mobie":"mobile"===t.$detect}},[t._m(0),a("tbody",[t._l(t.loans,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n+1))]),a("td",[t._v(t._s(t.$formatNumber(e.payment_amount)))]),a("td",[t._v(t._s(e.data_user_pay?e.data_user_pay.method:""))]),a("td",[t._v(t._s(e.payment_term))]),a("td",["OUT_OF_DATE"==e.status?a("span",[t._v("Quá hạn")]):t._e(),"DEADLINE"==e.status?a("span",[t._v("Đến hạn")]):t._e(),"UNPAID"==e.status?a("span",[t._v("Chưa thanh toán")]):t._e(),"PAID"==e.status?a("span",[t._v("Đã thanh toán")]):t._e()]),a("td",{staticClass:"text-center"},[t._v(t._s(e.loan_delay))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.overdue_day?e.overdue_day:0))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.lack_money?e.lack_money:0))]),("UNPAID"==e.status||e.status,a("td"))])})),a("no-data",{attrs:{data:t.loans,colspan:9}})],2)])])])]),a("p",{staticClass:"font-weight-bolder mt-5"},[t._v("Tổng thanh toán: "+t._s(t.$formatNumber(t.infoLoan.amount_paid>=0?t.infoLoan.amount_paid:"")))])]),a("detail",{attrs:{visible:t.dialogDetail,info:t.infoShow},on:{"update:visible":function(e){t.dialogDetail=e}}})],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Kỳ")]),a("th",[t._v("Số tiền")]),a("th",[t._v("Phương thức")]),a("th",[t._v("Thời gian")]),a("th",[t._v("Tình trạng")]),a("th",{staticClass:"text-center"},[t._v("Chậm khoản vay")]),a("th",{staticClass:"text-center"},[t._v("Nợ quá hạn(ngày)")]),a("th",{staticClass:"text-center"},[t._v("Số tiền nợ")]),a("th",{staticClass:"text-right",attrs:{width:"100px"}},[t._v(" Hành động ")])])])}],i=(a("d3b7"),a("3ca3"),a("ddb0"),a("1938")),r={components:{detail:function(){return a.e("chunk-2d0f009c").then(a.bind(null,"9b52"))}},data:function(){return{loading:!1,date:{date_from:"",date_to:""},infoUser:{},infoLoan:{},loans:[],dialog:!1,dialogDetail:!1,id:this.$route.params.id,id_user:this.$route.params.id_user,infoShow:{},isShowPlhd1:!0,isShowPlhd2:!0}},computed:{redirect:function(){return this.$store.state.general.redirect}},created:function(){this.id&&(this.getInfoDetail(),this.getData())},watch:{"date.date_from":function(t){this.isShowPlhd1=""==t},"date.date_to":function(t){this.isShowPlhd2=""==t}},methods:{getInfoDetail:function(){var t=this;Object(i["b"])(this.id).then((function(e){if(e.data.success===API_STATUS_SUCCESS){var a=e.data.data;t.infoLoan=a,t.infoUser=a.user?a.user.data:{}}else t.$showMessage(e.data.message,"warning")})).catch((function(e){t.requestError(e)}))},getData:function(){var t=this,e={id_user:this.id_user,loan_id:this.id};Object(i["a"])(e).then((function(e){e.data.success===API_STATUS_SUCCESS&&(t.loans=e.data.data)}))},goDetail:function(t){this.infoShow=t,this.dialogDetail=!0},searchDate:function(){var t=this;if(this.loading=!0,""===this.date.date_from||""===this.date.date_to)return this.$showMessage("Vui lòng nhập đầy đủ ngày tháng!","warning"),void(this.loading=!1);var e={id_user:this.id_user,loan_id:this.id,date_from:this.date.date_from,date_to:this.date.date_to};Object(i["a"])(e).then((function(e){e.data.success===API_STATUS_SUCCESS?t.loans=e.data.data:t.$showMessage(e.data.message,"warning")})),this.loading=!1},requestError:function(t){t.status===HTTP_CODE_GONE?(this.$showMessage(t.data.data.message,"warning"),this.goList()):t.status===HTTP_CODE_UNPROCESSABLE_ENTITY&&(this.errors=t.data.data.data)},getPathGoList:function(){var t="/loan-amount";return t+this.redirect},goList:function(){this.$router.push({path:this.getPathGoList()})},clearFilter:function(){this.date.date_from="",this.date.date_to="",this.getData()}}},o=r,c=(a("3a8b"),a("2877")),l=Object(c["a"])(o,n,s,!1,null,null,null);e["default"]=l.exports},fd03:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loan container-fluid"},["web"===t.$detect?a("div",{staticClass:"d-flex align-items-end justify-content-end pb-4"},[a("div",{staticClass:"mr-3",staticStyle:{width:"300px"}},[a("label",{staticClass:"font-weight-bold"},[t._v("Tìm kiếm người dùng")]),a("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.outsideSearch,expression:"outsideSearch"}],staticClass:"search"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keywordUser,expression:"keywordUser"}],staticClass:"form-control size-input",attrs:{type:"text",placeholder:"Tìm kiếm theo tên hoặc số điện thoại"},domProps:{value:t.keywordUser},on:{focus:function(e){e.target.select(),t.focusSearch("web")},input:[function(e){e.target.composing||(t.keywordUser=e.target.value)},t.searchUser]}}),t.showSearch?a("ul",{staticClass:"user-list"},[""==t.keywordUser?t._l(t.users,(function(e,n){return a("li",{key:n,staticClass:"user-item",on:{click:function(a){return t.search(e)}}},[t._v(" "+t._s(e.name)+"-("+t._s(e.phone)+") ")])})):[t._l(t.users,(function(e,n){return a("li",{key:n,staticClass:"user-item",on:{click:function(a){return t.search(e)}}},[t._v(" "+t._s(e.name)+"-("+t._s(e.phone)+") ")])})),0===t.users.length?a("li",{staticClass:"user-item text-center text-black-50"},[t.loading?a("span",[t._v("Đang tìm kiếm")]):a("span",[t._v("Không có dữ liệu")])]):t._e()]],2):t._e()])]),a("div",{staticClass:"mr-3"},[a("label",{staticClass:"font-weight-bold"},[t._v("Lọc trạng thái")]),a("ldc-select",{staticClass:"size-input",staticStyle:{width:"100%"},attrs:{placeholder:"Lọc trạng thái"},on:{change:t.changeActive},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.optionsLoan,(function(t){return a("ldc-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1)],1),a("div",[a("button",{staticClass:"btn btn-secondary",staticStyle:{height:"32px",width:"100%"},attrs:{disabled:""===t.type&&""===t.keywordUser&&""===t.id_user},on:{click:function(e){return t.clearFilter()}}},[t._v(" Bỏ lọc ")])])]):t._e(),"mobile"===t.$detect?a("div",{staticClass:"filter d-flex align-items-center justify-content-between mt-3"},[a("div",{staticClass:"position-relative w-100 mr-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.keywordUser,expression:"keywordUser"}],staticClass:"form-control size-input",attrs:{type:"text",placeholder:"Tìm kiếm theo tên hoặc số điện thoại"},domProps:{value:t.keywordUser},on:{focus:function(e){return t.focusSearch("mobile")},input:function(e){e.target.composing||(t.keywordUser=e.target.value)}}}),""!==t.keywordUser?a("span",{staticClass:"position-absolute",staticStyle:{top:"50%",right:"6px",transform:"translateY(-50%)"},on:{click:function(e){return t.clearKeyword()}}},[a("i",{staticClass:"icon ion-md-close-circle-outline",staticStyle:{color:"#d5d5d5","font-size":"18px"}})]):t._e()]),a("i",{staticClass:"h3 icon ion-md-funnel mb-0",on:{click:function(e){t.dialog=!0}}})]):t._e(),"mobile"===t.$detect?a("div",[a("ldc-model-mobile",{attrs:{titileCancel:"Hủy",showCancel:!1,showTitle:!0,title:"Tìm kiếm nâng cao",customButton:!0,visible:t.dialog},on:{"update:visible":function(e){t.dialog=e}}},[a("div",{attrs:{slot:"content-model"},slot:"content-model"},[a("ldc-select-show-option",{attrs:{placeholder:"Lọc trạng thái"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},t._l(t.optionsLoan,(function(t){return a("ldc-option-show",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("div",{attrs:{slot:"custom-buttom"},slot:"custom-buttom"},[a("div",{class:{"btn-confirm-android":t.$isAndroid,"btn-confirm-ios mb-10px btn-custom-ios":!t.$isAndroid}},[a("button",{staticClass:"btn btn-primary radius-ios text-uppercase mr-10px fs-14px btn-apply",attrs:{"close-model-mobile":""},on:{click:function(e){return t.changeUrl()}}},[t._v("áp dụng")]),a("button",{staticClass:"btn btn-light radius-ios text-uppercase ml-10px fs-14px btn-cancel",attrs:{"close-model-mobile":""},on:{click:function(e){return t.clearFilter()}}},[t._v("Bỏ lọc")])])])])],1):t._e(),a("div",{staticClass:"row mt-3 mt-md-5"},[a("div",{staticClass:"col-12 border-bottom bg-white"},[a("div",{staticClass:"table-responsive"},[a("table",{class:{"table table-striped":!0,"table-mobie":"mobile"===t.$detect}},[t._m(0),a("tbody",[t._l(t.loans,(function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(e.loan_contract_id))]),a("td",[a("router-link",{staticClass:"format-link",style:e.show?"":"cursor: default",attrs:{to:e.show?t.goDetail(e):""}},[t._v(" "+t._s(e.user?e.user.data.name:"")+" ")])],1),a("td",[t._v(t._s(e.user?e.user.data.phone:""))]),a("td",[t._v(t._s(t.$formatNumber(e.loan)))]),a("td",[t._v(t._s(e.time_updated))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.period_is_paid+"/"+e.total_period))]),a("td",{staticClass:"text-center"},[t._v(" "+t._s(e.type)+" ")]),a("td",{staticClass:"text-right"},[e.show?a("router-link",{attrs:{to:t.goDetail(e)}},[a("button",{staticClass:"btn btn-primary",attrs:{disabled:t.loading}},[t._v(" Chi tiết ")])]):t._e()],1)])})),a("no-data",{attrs:{data:t.loans,colspan:8}})],2)])])]),a("div",{staticClass:"col-12 d-flex justify-content-end"},[a("ldc-pagination",{staticClass:"pt-4",attrs:{current_page:t.page,last_page:t.totalPages,scroll_top:!0,callData:t.changePage}})],1)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("ID")]),a("th",[t._v("Họ tên")]),a("th",[t._v("Số điện thoại")]),a("th",[t._v("Số tiền ứng")]),a("th",[t._v("Thời gian cập nhật")]),a("th",{staticClass:"text-center"},[t._v("Số kỳ")]),a("th",{staticClass:"text-center"},[t._v("Trạng thái Khoản vay")]),a("th",{staticClass:"text-right",staticStyle:{"min-width":"100px"},attrs:{width:"100px"}},[t._v(" Hành động ")])])])}],i=a("1da1"),r=(a("99af"),a("b0c0"),a("96cf"),a("1938")),o=a("0949"),c=[{value:1,label:"Tất toán"},{value:2,label:"Chưa tất toán"},{value:3,label:"Chờ giải ngân"}],l={data:function(){return{dialog:!1,loans:[],optionsLoan:c,users:[],id_user:this.$route.query.id_user?this.$route.query.id_user:"",type:this.$route.query.type?parseInt(this.$route.query.type):"",keywordUser:"",page:this.$route.query.page?parseInt(this.$route.query.page):1,totalPages:0,timeOut:null,showSearch:!1,loading:!1}},computed:{query:function(){return this.$route.query}},watch:{query:function(t){this.getData()}},created:function(){this.getData(),this.getUser()},methods:{getData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.setQuery(),t.loadingTable=!0,e.next=4,Object(r["c"])(a).then((function(e){if(e.data.success===API_STATUS_SUCCESS){t.loans=e.data.data.data;var a=e.data.data.meta.pagination;t.page=a.current_page,t.totalPages=a.total_pages}}));case 4:t.loadingTable=!1;case 5:case"end":return e.stop()}}),e)})))()},changePage:function(t){this.page=t,this.changeUrl()},changeActive:function(){this.page=1,this.changeUrl()},changeUrl:function(){this.$router.push({name:"loan-amount",query:this.setQuery()})},searchUser:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t&&(e.keywordUser=t.target.value),e.users=[],e.loading=!0,n={},n.keyword=e.keywordUser,a.next=7,Object(o["c"])(n).then((function(t){t.data.success===API_STATUS_SUCCESS?(e.users=t.data.data,e.loading=!1):e.$showMessage(t.data.message,"warning")}));case 7:case"end":return a.stop()}}),a)})))()},search:function(t){this.page=1,this.keywordUser="".concat(t.name,"-(").concat(t.phone,")"),this.id_user=t.id,this.showSearch=!1,this.changeUrl()},getUser:function(){var t=this;Object(o["c"])().then((function(e){t.users=e.data.data,t.setUser()}))},setUser:function(){var t=this;this.$route.query.id_user&&Object(o["b"])(this.$route.query.id_user).then((function(e){t.keywordUser="".concat(e.data.data?e.data.data.name+"-"+e.data.data.phone:"")}))},focusSearch:function(t){var e;"web"===t?this.showSearch=!0:this.$router.push({name:"loan-amount-find-user",query:{id:this.$route.query.id_user,keyword:null!==(e=this.$route.query)&&void 0!==e&&e.keywordMb?this.$route.query.keywordMb:""}})},outsideSearch:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.showSearch=!1;case 1:case"end":return e.stop()}}),e)})))()},clearKeyword:function(){this.keywordUser="",this.id_user="",this.page=1,this.changeUrl()},setQuery:function(){var t={};return""!==this.type&&(t.type=parseInt(this.type)),""!==this.id_user&&(t.id_user=this.id_user),this.page>1&&(t.page=this.page),t},clearFilter:function(){this.id_user="",this.keywordUser="",this.type="",this.page=1,this.changeUrl()},goDetail:function(t){return{name:"loan-amount-show",params:{id:t.id,id_user:t.id_user},query:{redirect:this.$encodeRedirect(this.setQuery())}}}}},d=l,u=(a("e9c3"),a("2877")),h=Object(u["a"])(d,n,s,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=loan-amount-management.6ec2f297.js.map