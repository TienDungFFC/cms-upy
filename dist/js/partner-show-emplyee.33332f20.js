(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["partner-show-emplyee"],{"0219":function(e,t,r){"use strict";r.d(t,"f",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return s})),r.d(t,"g",(function(){return c})),r.d(t,"c",(function(){return m})),r.d(t,"h",(function(){return u})),r.d(t,"b",(function(){return p}));var a=r("1da1"),n=(r("96cf"),r("e63b")),o=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["b"])("/admin/v1/employee",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["c"])("/admin/v1/employee",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["b"])("/admin/v1/employee/export_excel_example");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["b"])("/admin/v1/employee/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["d"])("/admin/v1/employee/".concat(t),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["c"])("/admin/v1/employee/".concat(t,"/delete_image"),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),u=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["c"])("/admin/v1/employee/import_excel",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])("admin/v1/employee/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"4de4":function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").filter,o=r("1dde"),i=o("filter");a({target:"Array",proto:!0,forced:!i},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("b64b"),r("a4d3"),r("4de4"),r("d3b7"),r("e439"),r("159b"),r("dbb4");var a=r("ade3");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"5be7":function(e,t,r){"use strict";r("5ca8")},"5ca8":function(e,t,r){},"6acc":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container-fluid tpl-employe tpl-employe-partner"},[r("form",[r("div",{staticClass:"d-flex align-items-center img-name"},[r("div",{staticClass:"avatar flex-shrink-0"},[r("imageBlock",{attrs:{url:e.$getUrlImage(e.urlAvatar)},on:{changeFile:e.changeFile}})],1),r("h2",{staticClass:"ml-3 ml-lg-5 overflow-hidden",staticStyle:{"font-weight":"600","text-overflow":"ellipsis"}},[e._v(" "+e._s(e.formEmployee.name)+" ")])]),r("div",{staticClass:"row",staticStyle:{"margin-bottom":"20px"}},[e._m(0),r("div",{staticClass:"col-12 col-lg-8 text-lg-right mt-3 mt-lg-0"},[null!=e.formEmployee.time_updated&&""!=e.formEmployee.time_updated?r("p",{staticClass:"mb-0"},[r("span",[e._v("Cập nhật lần cuối:")]),e._v(" "+e._s(e.formEmployee.time_updated)+" ")]):e._e()])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-12 col-lg-3 col-form-label font-weight-bold"},[e._v("Họ và tên")]),r("div",{staticClass:"col-12 col-lg-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formEmployee.name,expression:"formEmployee.name"}],class:{"form-control size-input":!0,"is-invalid":e.errors.name},attrs:{type:"text",placeholder:"Họ và tên",disabled:!e.$myCanUpdate()},domProps:{value:e.formEmployee.name},on:{input:function(t){t.target.composing||e.$set(e.formEmployee,"name",t.target.value)}}}),r("form-invalid",{attrs:{error:e.errors.name}})],1)]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-12 col-lg-3 col-form-label font-weight-bold"},[e._v("Ngày sinh")]),r("div",{staticClass:"col-12 col-lg-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formEmployee.birthday,expression:"formEmployee.birthday"}],class:{"form-control size-input input-date":!0,"is-invalid":e.errors.birthday},attrs:{type:"date",placeholder:"Ngày sinh",disabled:!e.$myCanUpdate()},domProps:{value:e.formEmployee.birthday},on:{input:function(t){t.target.composing||e.$set(e.formEmployee,"birthday",t.target.value)}}}),r("form-invalid",{attrs:{error:e.errors.birthday}})],1)]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-12 col-lg-3 col-form-label font-weight-bold"},[e._v("Số điện thoại")]),r("div",{staticClass:"col-12 col-lg-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formEmployee.phone,expression:"formEmployee.phone"}],class:{"form-control size-input":!0,"is-invalid":e.errors.phone},attrs:{type:"text",placeholder:"Số điện thoại",disabled:!e.$myCanUpdate()},domProps:{value:e.formEmployee.phone},on:{input:function(t){t.target.composing||e.$set(e.formEmployee,"phone",t.target.value)}}}),r("form-invalid",{attrs:{error:e.errors.phone}})],1)]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-12 col-lg-3 col-form-label font-weight-bold"},[e._v("Email")]),r("div",{staticClass:"col-12 col-lg-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formEmployee.email,expression:"formEmployee.email"}],class:{"form-control size-input":!0,"is-invalid":e.errors.email},attrs:{type:"text",placeholder:"Email",disabled:!e.$myCanUpdate()},domProps:{value:e.formEmployee.email},on:{input:function(t){t.target.composing||e.$set(e.formEmployee,"email",t.target.value)}}}),r("form-invalid",{attrs:{error:e.errors.email}})],1)]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-12 col-lg-3 col-form-label font-weight-bold"},[e._v("Mức lương")]),r("div",{staticClass:"col-12 col-lg-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formEmployee.salary,expression:"formEmployee.salary"}],class:{"form-control size-input":!0,"is-invalid":e.errors.salary},attrs:{type:"text",placeholder:"Mức lương",disabled:!e.$myCanUpdate()},domProps:{value:e.formEmployee.salary},on:{input:function(t){t.target.composing||e.$set(e.formEmployee,"salary",t.target.value)}}}),r("form-invalid",{attrs:{error:e.errors.salary}})],1)]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-12 col-lg-3 col-form-label font-weight-bold"},[e._v("Chức vụ")]),r("div",{staticClass:"col-12 col-lg-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formEmployee.position,expression:"formEmployee.position"}],class:{"form-control size-input":!0,"is-invalid":e.errors.position},attrs:{type:"text",placeholder:"Chức vụ",disabled:!e.$myCanUpdate()},domProps:{value:e.formEmployee.position},on:{input:function(t){t.target.composing||e.$set(e.formEmployee,"position",t.target.value)}}}),r("form-invalid",{attrs:{error:e.errors.position}})],1)]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-12 col-lg-3 col-form-label font-weight-bold"},[e._v("Thời gian vào làm")]),r("div",{staticClass:"col-12 col-lg-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formEmployee.time_to_work,expression:"formEmployee.time_to_work"}],class:{"form-control size-input input-date":!0,"is-invalid":e.errors.time_to_work},attrs:{type:"date",disabled:!e.$myCanUpdate()},domProps:{value:e.formEmployee.time_to_work},on:{input:function(t){t.target.composing||e.$set(e.formEmployee,"time_to_work",t.target.value)}}}),r("form-invalid",{attrs:{error:e.errors.time_to_work}})],1)]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-12 col-lg-3 col-form-label font-weight-bold"},[e._v("Số căn cước công dân")]),r("div",{staticClass:"col-12 col-lg-9"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.formEmployee.id_number,expression:"formEmployee.id_number"}],class:{"form-control size-input":!0,"is-invalid":e.errors.id_number},attrs:{type:"text",placeholder:"Số căn cước công dân",disabled:!e.$myCanUpdate()},domProps:{value:e.formEmployee.id_number},on:{input:function(t){t.target.composing||e.$set(e.formEmployee,"id_number",t.target.value)}}}),r("form-invalid",{attrs:{error:e.errors.id_number}})],1)]),e.otherInfo&&e.$myCanUpdate()?r("label",{staticClass:"col-form-label font-weight-bold"},[e._v("Thông tin thêm")]):e._e(),r("div",{class:{"is-invalid":e.errors.other_info}},e._l(e.otherInfo,(function(t,a){return r("div",{key:a,staticClass:"form-group row"},[r("div",{staticClass:"col-3",class:{"pr-0":"mobile"==e.$detect}},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"item.label"}],staticClass:"form-control size-input",attrs:{type:"text",placeholder:"Tiêu đề",disabled:!e.$myCanUpdate()},domProps:{value:t.label},on:{input:function(r){r.target.composing||e.$set(t,"label",r.target.value)}}})]),r("div",{staticClass:"col-9"},[r("div",{staticClass:"d-flex"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control size-input",attrs:{type:"text",placeholder:"Nội dung",disabled:!e.$myCanUpdate()},domProps:{value:t.value},on:{input:function(r){r.target.composing||e.$set(t,"value",r.target.value)}}}),r("button",{staticClass:"ml-3 btn btn-danger rounded-circle d-flex justify-content-center align-items-center flex-shrink-0",style:"web"===e.$detect?"height: 32px; width: 32px;":"height: 40px; width: 40px",attrs:{type:"button",disabled:!e.$myCanUpdate()},on:{click:function(t){return e.removeOther(a)}}},[r("i",{staticClass:"icon ion-md-trash"})])])])])})),0),r("form-invalid",{attrs:{error:e.errors.other_info}}),e.$myCanUpdate()?r("div",{staticClass:"form-group row",class:{"mt-3":"web"==e.$detect}},[r("div",{staticClass:"col-12"},[r("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:function(t){return e.addOther()}}},[e._v(" Thêm thông tin ")])])]):e._e(),r("div",{staticClass:"inforAdditional mt-4"},[r("div",{staticClass:"form-group row"},[e._m(1),r("label",{staticClass:"col-sm-3 font-weight-bold"},[e._v("Hợp đồng lao động")]),r("div",{staticClass:"col-sm-9",staticStyle:{overflow:"auto"}},[r("div",{staticClass:"list-file d-flex flex-wrap scroll-images"},[e.$myCanUpdate()?r("div",{staticClass:"file mr-2 mb-2"},[r("ldc-upload",{attrs:{multiple:!0},on:{input:function(t){return e.makeUrlFileLaborContract(e.fileLabor)}},model:{value:e.fileLabor,callback:function(t){e.fileLabor=t},expression:"fileLabor"}},[r("div",{staticClass:"upload_image position-relative rounded h-100"},[r("div",{staticClass:"d-flex align-items-center justify-content-center position-relative w-100 h-100",staticStyle:{border:"1px dashed black","border-radius":"5px"},attrs:{upload:""}},[r("i",{staticClass:"icon ion-md-cloud-upload mr-2"}),e._v(" Chọn ảnh ")])])])],1):e._e(),e._l(e.urlLaborContract,(function(t,a){return r("div",{key:a,staticClass:"file mr-2 mb-2"},[r("div",{staticClass:"upload_image position-relative rounded h-100"},[e.$myCanUpdate()?r("span",{staticClass:"position-absolute opacity-75 btn text-white right-0 start-0 close-icon",on:{click:function(t){return e.removeImage("LABOR",a,e.urlLaborContract[a])}}},[e._v(" X ")]):e._e(),e.urlLaborContract[a]?r("imageBlock",{attrs:{url:e.$getUrlImage(e.urlLaborContract[a]),edit:!1}}):e._e()],1)])}))],2)])]),r("div",{staticClass:"form-group row"},[r("label",{staticClass:"col-sm-3 font-weight-bold"},[e._v("Quyết định lên lương")]),r("div",{staticClass:"col-sm-9",staticStyle:{overflow:"auto"}},[r("div",{staticClass:"list-file d-flex flex-wrap scroll-images"},[e.$myCanUpdate()?r("div",{staticClass:"file mb-2 mr-2"},[r("ldc-upload",{attrs:{multiple:!0},on:{input:function(t){return e.makeUrlFileSalaryIncrease(e.fileSalary)}},model:{value:e.fileSalary,callback:function(t){e.fileSalary=t},expression:"fileSalary"}},[r("div",{staticClass:"upload_image position-relative rounded h-100"},[r("div",{staticClass:"d-flex align-items-center justify-content-center position-relative w-100 h-100",staticStyle:{border:"1px dashed black","border-radius":"5px"},attrs:{upload:""}},[r("i",{staticClass:"icon ion-md-cloud-upload mr-2"}),e._v(" Chọn ảnh ")])])])],1):e._e(),e._l(e.urlSalaryIncrease,(function(t,a){return r("div",{key:a,staticClass:"file mr-2 mb-2"},[r("div",{staticClass:"upload_image position-relative rounded h-100"},[e.$myCanUpdate()?r("span",{staticClass:"position-absolute opacity-75 btn text-white close-icon",on:{click:function(t){return e.removeImage("SALARY",a,e.urlSalaryIncrease[a])}}},[e._v(" X ")]):e._e(),e.urlSalaryIncrease[a]?r("imageBlock",{attrs:{url:e.$getUrlImage(e.urlSalaryIncrease[a]),edit:!1}}):e._e()],1)])}))],2)])]),r("div",{staticClass:"form-group d-flex justify-content-start"},[r("buttom-fixed",["add-employee"===e.$route.name&&e.$myCanCreate()?r("button",{class:{"btn btn-success size-button":!0,"w-100":"mobile"===e.$detect},attrs:{type:"button",disabled:e.loading},on:{click:function(t){return e.addEmployee()}}},[e._v(" Thêm nhân viên ")]):"add-employee"!==e.$route.name&&e.$myCanUpdate()?r("button",{class:{"btn btn-primary size-button":!0,"w-100":"mobile"===e.$detect},attrs:{type:"button",disabled:e.loading},on:{click:function(t){return e.updateEmployee()}}},[e._v(" Cập nhật ")]):e._e()])],1)])],1)])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-12 col-lg-4"},[r("h3",{staticClass:"title font-weight-bold"},[e._v("Thông tin")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"col-12 mt-4 mb-4"},[r("h3",{staticClass:"title font-weight-bold"},[e._v("Thông tin thêm")])])}],o=r("1da1"),i=r("5530"),l=(r("96cf"),r("d3b7"),r("3ca3"),r("ddb0"),r("a434"),r("2b3d"),r("9861"),r("159b"),r("ac1f"),r("841c"),r("5319"),r("d81d"),r("1276"),r("b0c0"),r("0219")),s={components:{imageBlock:function(){return r.e("chunk-7cec0722").then(r.bind(null,"1f7e"))}},data:function(){return{fileLabor:[],fileSalary:[],id:this.$route.params.id,formatDate:"",file:"",loading:!1,info:{label:"",value:""},otherInfo:[],fileLaborContract:[],fileSalaryIncrease:[],urlAvatar:"",urlLaborContract:[],urlSalaryIncrease:[],formEmployee:{avatar:"",birthday:"",email:"",id:"",id_business:"",id_number:"",labor_contract:[],name:"",name_search:"",other_info:[],phone:"",position:"",salary:"",salary_increase:[],time_created:"",time_to_work:"",time_updated:""},errors:{}}},mounted:function(){null!=this.id&&""!=this.id&&this.getDetailEmployee()},methods:{changeFile:function(e){this.file=e},addOther:function(){null==this.otherInfo&&(this.otherInfo=[]);var e=Object(i["a"])({},this.info);this.otherInfo.push(e)},removeOther:function(e){this.otherInfo.splice(e,1)},makeUrlFile:function(e){var t=["image/png","image/jpeg","image/jpg"],r=!1;e&&(-1==t.indexOf(e.type)&&(r=!0),r?this.$showMessage("Vui lòng chọn file có định dạng là png jpg jpeg ","warning"):this.urlAvatar=URL.createObjectURL(e))},makeUrlFileLaborContract:function(e){var t=this,r=["image/png","image/jpeg","image/jpg"],a=!1;e.length>0&&(e.forEach((function(e){-1==r.indexOf(e.type)&&(a=!0)})),a?this.$showMessage("Vui lòng chọn file có định dạng là png jpg jpeg ","warning"):e.forEach((function(e){t.fileLaborContract.unshift(e),t.urlLaborContract.unshift(URL.createObjectURL(e))}))),this.fileLabor=[]},makeUrlFileSalaryIncrease:function(e){var t=this,r=["image/png","image/jpeg","image/jpg"],a=!1;e.length>0&&(e.forEach((function(e){-1==r.indexOf(e.type)&&(a=!0)})),a?this.$showMessage("Vui lòng chọn file có định dạng là png jpg jpeg ","warning"):e.forEach((function(e){t.fileSalaryIncrease.unshift(e),t.urlSalaryIncrease.unshift(URL.createObjectURL(e))})))},removeImage:function(e,t,r){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:0==r.search("https://storage.googleapis.com/v10-dev/")?(i={image:r.replace("https://storage.googleapis.com/v10-dev/upy/",""),type:e},a.$confirm("Bạn có chắc chắn xóa ","Xóa ảnh",{confirmButtonText:"Đồng ý",cancelButtonText:"Hủy",type:"error"}).then(Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.loading=!0,r.next=3,Object(l["c"])(a.id,i).then((function(e){a.$showMessage(e.data.message),a.getDetailEmployee()}));case 3:"LABOR"==e?(a.urlLaborContract.splice(t,1),a.fileLaborContract.splice(t,1)):(a.fileSalaryIncrease.splice(t,1),a.urlSalaryIncrease.splice(t,1)),a.loading=!1;case 5:case"end":return r.stop()}}),r)})))).catch((function(){}))):"LABOR"==e?(a.urlLaborContract.splice(t,1),a.fileLaborContract.splice(t,1)):(a.fileSalaryIncrease.splice(t,1),a.urlSalaryIncrease.splice(t,1));case 1:case"end":return n.stop()}}),n)})))()},getDetailEmployee:function(){var e=this,t=this.id;Object(l["d"])(t).then((function(t){e.loading=!0;var r=t.data.data;if(e.formEmployee=r,e.urlAvatar=e.formEmployee.avatar,e.otherInfo=e.formEmployee.other_info,e.formEmployee.salary=e.$formatNumber(e.formEmployee.salary),e.formEmployee.labor_contract&&(e.urlLaborContract=e.formEmployee.labor_contract.map((function(e){return e.url}))),e.formEmployee.salary_increase&&(e.urlSalaryIncrease=e.formEmployee.salary_increase.map((function(e){return e.url}))),e.formEmployee.birthday){var a=e.formEmployee.birthday.split("-");e.formEmployee.birthday=a[2]+"-"+a[1]+"-"+a[0]}if(e.formEmployee.time_to_work){a=e.formEmployee.time_to_work.split("-");e.formEmployee.time_to_work=a[2]+"-"+a[1]+"-"+a[0]}e.loading=!1}))},addEmployee:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,r={},a=e.otherInfo,a.length>0&&(r.other_info=a),!e.file){t.next=9;break}return t.next=7,e.$uploadFile(e.file);case 7:e.formEmployee.avatar=t.sent,r.avatar=e.formEmployee.avatar;case 9:if(0==e.fileLaborContract.length){t.next=20;break}t.t0=regeneratorRuntime.keys(e.fileLaborContract);case 11:if((t.t1=t.t0()).done){t.next=18;break}return n=t.t1.value,t.next=15,e.$uploadFile(e.fileLaborContract[n]);case 15:e.formEmployee.labor_contract[n]=t.sent,t.next=11;break;case 18:r.labor_contract=e.formEmployee.labor_contract,e.fileLaborContract=[];case 20:if(0==e.fileSalaryIncrease.length){t.next=31;break}t.t2=regeneratorRuntime.keys(e.fileSalaryIncrease);case 22:if((t.t3=t.t2()).done){t.next=29;break}return o=t.t3.value,t.next=26,e.$uploadFile(e.fileSalaryIncrease[o]);case 26:e.formEmployee.salary_increase[o]=t.sent,t.next=22;break;case 29:r.salary_increase=e.formEmployee.salary_increase,e.fileSalaryIncrease=[];case 31:r.name=e.formEmployee.name,r.birthday=e.formEmployee.birthday,r.phone=e.formEmployee.phone,r.email=e.formEmployee.email,r.position=e.formEmployee.position,r.salary=e.formEmployee.salary,r.time_to_work=e.formEmployee.time_to_work,r.id_number=e.formEmployee.id_number,Object(l["a"])(e.$returnForm(r)).then((function(t){var r=t.data;e.$showMessage(r.message),e.$router.push({name:"company-information"})})).catch((function(t){return e.requestError(t)})),e.loading=!1;case 41:case"end":return t.stop()}}),t)})))()},updateEmployee:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,i,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.loading=!0,r={},a=e.otherInfo,a&&(r.other_info=a),!e.file){t.next=9;break}return t.next=7,e.$uploadFile(e.file);case 7:e.formEmployee.avatar=t.sent,null!==e.formEmployee.avatar&&""!==e.formEmployee.avatar&&(r.avatar=e.formEmployee.avatar);case 9:if(0==e.fileLaborContract.length){t.next=23;break}n=[],t.t0=regeneratorRuntime.keys(e.fileLaborContract);case 12:if((t.t1=t.t0()).done){t.next=21;break}if(o=t.t1.value,!e.fileLaborContract[o]){t.next=19;break}return t.next=17,e.$uploadFile(e.fileLaborContract[o]);case 17:i=t.sent,n.push(i);case 19:t.next=12;break;case 21:r.labor_contract=n,e.fileLaborContract=[];case 23:if(0==e.fileSalaryIncrease.length){t.next=37;break}s=[],t.t2=regeneratorRuntime.keys(e.fileSalaryIncrease);case 26:if((t.t3=t.t2()).done){t.next=35;break}if(o=t.t3.value,!e.fileSalaryIncrease[o]){t.next=33;break}return t.next=31,e.$uploadFile(e.fileSalaryIncrease[o]);case 31:c=t.sent,s.push(c);case 33:t.next=26;break;case 35:r.salary_increase=s,e.fileSalaryIncrease=[];case 37:return r.name=e.formEmployee.name,r.birthday=e.formEmployee.birthday,r.phone=e.formEmployee.phone,r.position=e.formEmployee.position,r.email=e.formEmployee.email,r.salary=e.$stringToNumber(e.formEmployee.salary),r.time_to_work=e.formEmployee.time_to_work,r.id_number=e.formEmployee.id_number,t.prev=45,t.next=48,Object(l["g"])(e.formEmployee.id,r).then((function(t){e.$showMessage(t.data.message),e.errors={}}));case 48:t.next=54;break;case 50:t.prev=50,t.t4=t["catch"](45),e.loading=!1,e.requestError(t.t4);case 54:e.loading=!1;case 55:case"end":return t.stop()}}),t,null,[[45,50]])})))()},requestError:function(e){e.status===HTTP_CODE_GONE?this.$showMessage(e.data.message,"warning"):e.status===HTTP_CODE_UNPROCESSABLE_ENTITY&&(this.errors=e.data.data.data)}}},c=s,m=(r("5be7"),r("2877")),u=Object(m["a"])(c,a,n,!1,null,null,null);t["default"]=u.exports},"841c":function(e,t,r){"use strict";var a=r("c65b"),n=r("d784"),o=r("825a"),i=r("1d80"),l=r("129f"),s=r("577e"),c=r("dc4a"),m=r("14c3");n("search",(function(e,t,r){return[function(t){var r=i(this),n=void 0==t?void 0:c(t,e);return n?a(n,t,r):new RegExp(t)[e](s(r))},function(e){var a=o(this),n=s(e),i=r(t,a,n);if(i.done)return i.value;var c=a.lastIndex;l(c,0)||(a.lastIndex=0);var u=m(a,n);return l(a.lastIndex,c)||(a.lastIndex=c),null===u?-1:u.index}]}))},ade3:function(e,t,r){"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return a}))},dbb4:function(e,t,r){var a=r("23e7"),n=r("83ab"),o=r("56ef"),i=r("fc6a"),l=r("06cf"),s=r("8418");a({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(e){var t,r,a=i(e),n=l.f,c=o(a),m={},u=0;while(c.length>u)r=n(a,t=c[u++]),void 0!==r&&s(m,t,r);return m}})},e439:function(e,t,r){var a=r("23e7"),n=r("d039"),o=r("fc6a"),i=r("06cf").f,l=r("83ab"),s=n((function(){i(1)})),c=!l||s;a({target:"Object",stat:!0,forced:c,sham:!l},{getOwnPropertyDescriptor:function(e,t){return i(o(e),t)}})}}]);
//# sourceMappingURL=partner-show-emplyee.33332f20.js.map