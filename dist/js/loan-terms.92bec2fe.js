(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["loan-terms"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},2209:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"news-show container-fluid"},["web"===t.$detect?n("span",{staticClass:"h5 font-weight-bold"},[t._v(t._s(t.id?"Chi tiết "+t.title:"Thêm mới "+t.title))]):t._e(),n("div",{staticClass:"mt-md-4 mt-2",attrs:{hidden:"chương trình ưu đãi"!=t.title}},[n("p",{staticClass:"font-weight-bold mb-2"},[t._v(t._s(t.id?"Ảnh":"Thêm mới ảnh")+" "+t._s(t.title))]),n("div",[t.id?n("div",{staticClass:"overflow-hidden d-flex align-items-center rounded img",style:"mobile"===t.$detect?"max-height: 160px;width: 100%;":"max-height: 150px;max-width: 380px;"},[n("imageBlock",{attrs:{url:t.$getUrlImage(t.form.url),edit:t.$myCanUpdate(),preview:"mobile"!==t.$detect},on:{changeFile:t.changeFile}})],1):n("div",{staticClass:"overflow-hidden d-flex align-items-center rounded img",style:"mobile"===t.$detect?"max-height: 160px;width: 100%;":"max-height: 150px;max-width: 380px;"},[n("ldc-upload",{on:{input:function(e){return t.makeUrlFile(t.file)}},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}},[n("div",{staticClass:"upload_image-add position-relative",attrs:{upload:t.$myCanCreate()}},[n("img",{staticClass:"w-100 rounded",style:t.form.url?"":"border-style: dashed",attrs:{alt:"",src:t.$getUrlImage(t.form.url)}}),t.$myCanCreate()?n("div",{staticClass:"iconEdit-add position-absolute d-flex align-items-center justify-content-center"},[n("i",{staticClass:"icon icon-add ion-md-cloud-upload h3"})]):t._e()])])],1)])]),n("div",{staticClass:"mt-3 font-weight-bold"},[n("label",{attrs:{for:"title"}},[t._v("Tên "+t._s(t.title))]),n("div",{staticClass:"input-group mb-3"},["web"===t.$detect?n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",class:{"is-invalid":t.errors.title},attrs:{disabled:!t.$myCanUpdate(),placeholder:"Tên "+t.title,type:"text",id:"title"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}):n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.title,expression:"form.title"}],staticClass:"form-control",class:{"is-invalid":t.errors.title},attrs:{disabled:!t.$myCanUpdate(),placeholder:"Tên "+t.title,type:"text",id:"title"},domProps:{value:t.form.title},on:{input:function(e){e.target.composing||t.$set(t.form,"title",e.target.value)}}}),t._v(" "),n("form-invalid",{staticClass:"font-weight-bold",attrs:{error:0===t.form.title.length?"Vui lòng nhập tên "+t.title:t.form.title.length>100?"Vui lòng nhập tên dưới 100 kí tự":""}})],1)]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"font-weight-bold"},[t._v("Nội dung")]),n("editor",{class:{"is-invalid":t.errors.content},attrs:{disabled:!t.$myCanUpdate()},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}}),n("form-invalid",{staticClass:"font-weight-bold",attrs:{error:t.errors.content}})],1),n("div",[n("p",{staticClass:"font-weight-bold mb-md-2 mb-1"},[t._v("Trạng thái")]),n("div",{staticClass:"form-check-inline"},[n("label",{staticClass:"form-check-label mr-5 d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.active,expression:"form.active"}],staticClass:"form-check-input",attrs:{disabled:!t.$myCanUpdate(),type:"radio",name:"optradio",value:"1"},domProps:{checked:t._q(t.form.active,"1")},on:{change:function(e){return t.$set(t.form,"active","1")}}}),t._v("Kích hoạt ")]),n("label",{staticClass:"form-check-label d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.active,expression:"form.active"}],staticClass:"form-check-input",attrs:{disabled:!t.$myCanUpdate(),type:"radio",name:"optradio",value:"0"},domProps:{checked:t._q(t.form.active,"0")},on:{change:function(e){return t.$set(t.form,"active","0")}}}),t._v("Tạm khóa ")])])]),t.$myCanUpdate()||t.$myCanCreate()||t.$myCanDelete()?n("buttom-fixed",[n("div",{class:{"w-100 d-flex justify-content-between form-btn":"mobile"===t.$detect}},[[t.id&&t.$myCanUpdate()?n("button",{staticClass:"btn btn-responsive btn-primary px-5 mt-3 mr-2 size-button",style:"mobile"===t.$detect&&t.$myCanDelete()?"width:49%;":"width:100%",attrs:{disabled:t.loading},on:{click:function(e){return t.updateNew()}}},[t._v(" Sửa ")]):!t.id&&t.$myCanCreate()?n("button",{staticClass:"btn btn-responsive btn-success px-5 mt-3 mr-2 size-button",style:"mobile"===t.$detect&&t.$myCanDelete()?"width:49%;":"width:100%",attrs:{disabled:t.loading},on:{click:function(e){return t.addNew()}}},[t._v(" Lưu ")]):t._e()],t.$myCanDelete()?n("button",{staticClass:"btn btn-responsive btn-danger px-5 mt-3 size-button",style:"mobile"===t.$detect&&(t.$myCanUpdate()||t.$myCanCreate())?"width:49%;":"width:100%",attrs:{disabled:t.isDelete},on:{click:function(e){return t.deleteNew()}}},[t._v("Xóa")]):t._e()],2)]):t._e()],1)},a=[],i=n("1da1"),s=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("ac1f"),n("841c"),n("b0c0"),n("9911"),n("99af"),n("2b3d"),n("9861"),n("ed61")),o=n("c382"),c={components:{editor:function(){return n.e("chunk-58f38244").then(n.bind(null,"b939"))},imageBlock:function(){return n.e("chunk-7cec0722").then(n.bind(null,"1f7e"))}},data:function(){return{file:"",id:this.$route.params.id,title:"",TYPE:"",link:"",errors:{},isDelete:!0,loading:!1,form:{title:"",url:"",content:"",active:1}}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loading=!0,t.id?(t.setContent(),t.getNewDetail()):t.setContent();case 2:case"end":return e.stop()}}),e)})))()},methods:{changeFile:function(t){this.file=t},setContent:function(){0==this.$route.name.search("user-manual")&&(this.TYPE=o["c"],this.title="hướng dẫn",this.link="user-manual"),0==this.$route.name.search("loan-terms")&&(this.TYPE=o["b"],this.title="điều khoản vay",this.link="loan-terms"),0==this.$route.name.search("special-offers")&&(this.TYPE=o["a"],this.title="chương trình ưu đãi",this.link="special-offers"),this.loading=!1},getNewDetail:function(){var t=this;this.$route.params.id?(this.isDelete=!1,this.id=this.$route.params.id,Object(s["c"])(this.id).then((function(e){e.data.success===API_STATUS_SUCCESS?(t.form.url=e.data.data.image,t.form.title=e.data.data.title,t.form.content=e.data.data.content,t.form.active=e.data.data.active):t.$showMessage(e.data.message,"warning")}))):(this.id=this.$route.params.id,this.form.url="",this.isDelete=!0,this.form.title="",this.form.content="",this.form.active=1),this.loading=!1},addNew:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$myCanCreate()){e.next=2;break}return e.abrupt("return");case 2:if(t.loading=!0,t.errors={},n={},n.active=parseInt(t.form.active),n.type=t.TYPE,t.TYPE!=o["a"]){e.next=16;break}if(!t.file){e.next=13;break}return e.next=11,t.$uploadFile(t.file).then((function(t){n.image=t})).catch((function(){t.loading=!1}));case 11:e.next=16;break;case 13:return t.loading=!1,t.$showMessage("Vui lòng chọn file","warning"),e.abrupt("return");case 16:return null!==t.form.title&&""!==t.form.title&&(n.title=t.form.title),null!==t.form.content&&""!==t.form.content&&(n.content=t.form.content),e.next=20,Object(s["a"])(n).then((function(e){e.data.success===API_STATUS_SUCCESS?(t.$route.params.id=e.data.data.id,t.$showMessage("Thêm mới thành công","success"),t.loading=!0,t.getNewDetail()):t.$showMessage(e.data.message,"warning")})).catch((function(e){t.requestError(e)}));case 20:t.loading=!1;case 21:case"end":return e.stop()}}),e)})))()},updateNew:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$myCanUpdate()){e.next=2;break}return e.abrupt("return");case 2:if(t.loading=!0,t.errors={},n={},n.active=parseInt(t.form.active),n.type=t.TYPE,t.TYPE!=o["a"]){e.next=13;break}if(null!=t.file&&""!=t.file&&void 0!=t.file){e.next=11;break}e.next=13;break;case 11:return e.next=13,t.$uploadFile(t.file).then((function(t){n.image=t})).catch((function(e){t.loading=!1,t.requestError(e)}));case 13:return null!==t.form.title&&""!==t.form.title&&(n.title=t.form.title),null!==t.form.content&&""!==t.form.content&&(n.content=t.form.content),e.next=17,Object(s["e"])(t.id,n).then((function(e){e.data.success===API_STATUS_SUCCESS?(t.$showMessage(e.data.message,"success"),t.loading=!0):t.$showMessage(e.data.message,"warning")})).catch((function(e){t.requestError(e)}));case 17:t.loading=!1;case 18:case"end":return e.stop()}}),e)})))()},deleteNew:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$myCanDelete()){e.next=2;break}return e.abrupt("return");case 2:return t.isDelete=!0,e.next=5,t.$confirm("Bạn có chắc muốn xóa ".concat(t.title," <b>").concat(t.form.title,"</b>"),"Xóa ".concat(t.title),{confirmButtonText:"Đồng ý",cancelButtonText:"Hủy",type:"error"}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["b"])(t.id).then((function(e){e.data.data.success===API_STATUS_SUCCESS?(t.$showMessage("Xóa thành công.","success"),t.$route.params.id="",t.file="",t.getNewDetail()):t.$showMessage(e.data.data.message,"warning")})).catch((function(e){e.status==HTTP_CODE_GONE&&t.$showMessage(e.data.data.message,"warning")}));case 2:case"end":return e.stop()}}),e)})))).catch((function(){t.isDelete=!1}));case 5:case"end":return e.stop()}}),e)})))()},makeUrlFile:function(t){this.form.url=t?URL.createObjectURL(t):""},requestError:function(t){t.status===HTTP_CODE_GONE?this.$showMessage(t.data.message,"warning"):t.status===HTTP_CODE_UNPROCESSABLE_ENTITY&&(this.errors=t.data.data.data)}}},u=c,l=(n("7132"),n("2877")),d=Object(l["a"])(u,r,a,!1,null,null,null);e["default"]=d.exports},7132:function(t,e,n){"use strict";n("94c5")},"841c":function(t,e,n){"use strict";var r=n("c65b"),a=n("d784"),i=n("825a"),s=n("1d80"),o=n("129f"),c=n("577e"),u=n("dc4a"),l=n("14c3");a("search",(function(t,e,n){return[function(e){var n=s(this),a=void 0==e?void 0:u(e,t);return a?r(a,e,n):new RegExp(e)[t](c(n))},function(t){var r=i(this),a=c(t),s=n(e,r,a);if(s.done)return s.value;var u=r.lastIndex;o(u,0)||(r.lastIndex=0);var d=l(r,a);return o(r.lastIndex,u)||(r.lastIndex=u),null===d?-1:d.index}]}))},"857a":function(t,e,n){var r=n("e330"),a=n("1d80"),i=n("577e"),s=/"/g,o=r("".replace);t.exports=function(t,e,n,r){var c=i(a(t)),u="<"+e;return""!==n&&(u+=" "+n+'="'+o(i(r),s,"&quot;")+'"'),u+">"+c+"</"+e+">"}},"94c5":function(t,e,n){},9911:function(t,e,n){"use strict";var r=n("23e7"),a=n("857a"),i=n("af03");r({target:"String",proto:!0,forced:i("link")},{link:function(t){return a(this,"a","href",t)}})},af03:function(t,e,n){var r=n("d039");t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},c382:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var r="TERMS_AND_SERVICE",a="USER_MANUAL",i="SPECIAL_OFFER"},ed61:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"b",(function(){return u}));var r=n("1da1"),a=(n("96cf"),n("e63b")),i=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["b"])("/admin/v1/new",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["b"])("/admin/v1/new/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["c"])("/admin/v1/new",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["d"])("/admin/v1/new/".concat(e),n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])("/admin/v1/new/".concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=loan-terms.92bec2fe.js.map