(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["expertise-2"],{"0949":function(e,t,r){"use strict";r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return u})),r.d(t,"a",(function(){return c}));var n=r("1da1"),a=(r("96cf"),r("e63b")),s=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["b"])("/admin/v1/user",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["b"])("/admin/v1/user/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["d"])("/admin/v1/user/".concat(t),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["a"])("/admin/v1/user/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"2b37":function(e,t,r){},"2b48":function(e,t,r){"use strict";r.d(t,"e",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return u})),r.d(t,"f",(function(){return c})),r.d(t,"d",(function(){return o})),r.d(t,"a",(function(){return l}));var n=r("1da1"),a=(r("96cf"),r("e63b")),s=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["b"])("/admin/v1/loan/expertise2",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["b"])("/admin/v1/loan/expertise2/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["b"])("/admin/v1/loan/expertise2/".concat(t,"/check_cic"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["c"])("/admin/v1/loan/expertise2/".concat(t,"/browser_loan"),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),o=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["c"])("/admin/v1/loan/expertise2/".concat(t,"/refuse_loan"),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),l=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["c"])("/admin/v1/loan/expertise2/".concat(t,"/back_expertise1"),r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},5158:function(e,t,r){"use strict";r("2b37")},a91b:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"expertise-2 container-fluid"},["web"===e.$detect?r("div",{staticClass:"d-flex justify-content-end align-items-end flex-wrap pb-4"},[r("div",[r("label",{staticClass:"font-weight-bold"},[e._v("Từ khoá")]),e.user_name?r("input",{directives:[{name:"model",rawName:"v-model",value:e.user_name,expression:"user_name"}],staticClass:"form-control size-input",attrs:{placeholder:"Tìm kiếm"},domProps:{value:e.user_name},on:{input:[function(t){t.target.composing||(e.user_name=t.target.value)},function(t){return e.clearFilter()}],click:function(t){return e.focusSearch()}}}):r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.outsideSearch,expression:"outsideSearch"}],staticClass:"search"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:"form-control size-input",attrs:{type:"text",placeholder:"Tìm kiếm theo họ tên, SĐT"},domProps:{value:e.keyword},on:{focus:function(t){return e.focusSearch()},input:[function(t){t.target.composing||(e.keyword=t.target.value)},function(t){return e.searchUser(e.keyword)}]}}),e.showSearch&&e.keyword?r("ul",{staticClass:"user-list"},[e._l(e.users,(function(t,n){return r("li",{key:n,staticClass:"user-item",on:{click:function(r){return e.search(t)}}},[e._v(" "+e._s(t.name)+" ("+e._s(t.phone)+") ")])})),0===e.users.length?r("li",{staticClass:"user-item text-center text-black-50"},[e.loading?r("span",[e._v("Đang tìm kiếm")]):r("span",[e._v("Không có dữ liệu")])]):e._e()],2):e._e()])]),r("div",{staticClass:"px-4"},[r("label",{staticClass:"font-weight-bold"},[e._v("Trạng thái")]),r("ldc-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Lọc trạng thái"},on:{change:e.changeStatus},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.optionsStatus,(function(e){return r("ldc-option",{key:e.value,attrs:{label:e.label,value:e.value,actionKeyBoard:!1}})})),1)],1),r("div",[r("button",{staticClass:"btn btn-secondary",staticStyle:{height:"32px",width:"100%"},attrs:{disabled:""===e.status&&""===e.id_user&&""===e.keyword&&""===e.user_name},on:{click:function(t){return e.clearFilter()}}},[e._v(" Bỏ lọc ")])])]):r("div",{staticClass:"d-flex align-items-center justify-content-end py-3"},[r("div",{staticClass:"mb-0 flex-grow-1 mr-2"},[r("div",{staticClass:"position-relative"},[e.user_name?r("input",{directives:[{name:"model",rawName:"v-model",value:e.user_name,expression:"user_name"}],staticClass:"form-control size-input",attrs:{placeholder:"Tìm kiếm"},domProps:{value:e.user_name},on:{input:[function(t){t.target.composing||(e.user_name=t.target.value)},function(t){return e.clearFilter()}],focus:function(t){return e.focusSearchMobile()}}}):r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.outsideSearch,expression:"outsideSearch"}],class:{search:!0,"search-mobile":"mobile"===e.$detect}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:"form-control size-input",attrs:{type:"text",placeholder:"Tìm kiếm theo họ tên, SĐT"},domProps:{value:e.keyword},on:{focus:function(t){return e.focusSearchMobile()},input:[function(t){t.target.composing||(e.keyword=t.target.value)},function(t){return e.searchUser(e.keyword)}]}}),e.showSearch&&e.keyword?r("ul",{staticClass:"user-list"},[e._l(e.users,(function(t,n){return r("li",{key:n,staticClass:"user-item",on:{click:function(r){return e.search(t)}}},[e._v(" "+e._s(t.name)+" ("+e._s(t.phone)+") ")])})),0===e.users.length?r("li",{staticClass:"user-item text-center text-black-50"},[e.loading?r("span",[e._v("Đang tìm kiếm")]):r("span",[e._v("Không có dữ liệu")])]):e._e()],2):e._e()]),""!==e.user_name?r("span",{staticClass:"position-absolute",staticStyle:{top:"50%",right:"6px",transform:"translateY(-50%)"},on:{click:function(t){return e.clearUsername()}}},[r("i",{staticClass:"icon ion-md-close-circle-outline",staticStyle:{color:"#d5d5d5","font-size":"18px"}})]):e._e()]),r("ldc-model-mobile",{attrs:{titileCancel:"Hủy",showCancel:!1,showTitle:!0,title:"Tìm kiếm nâng cao",customButton:!0,visible:e.dialog},on:{"update:visible":function(t){e.dialog=t}}},[r("div",{attrs:{slot:"content-model"},slot:"content-model"},[r("ldc-select-show-option",{staticStyle:{width:"100%"},attrs:{placeholder:"Lọc trạng thái",actionKeyBoard:!1},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.optionsStatus,(function(e){return r("ldc-option-show",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("div",{attrs:{slot:"custom-buttom"},slot:"custom-buttom"},[r("div",{class:{"btn-confirm-android":e.$isAndroid,"btn-confirm-ios mb-10px btn-custom-ios":!e.$isAndroid}},[r("button",{staticClass:"btn btn-primary radius-ios text-uppercase mr-10px fs-14px btn-apply",attrs:{"close-model-mobile":""},on:{click:function(t){return e.changeUrl()}}},[e._v("áp dụng")]),r("button",{staticClass:"btn btn-light radius-ios text-uppercase ml-10px fs-14px btn-cancel",attrs:{"close-model-mobile":""},on:{click:function(t){return e.clearFilter()}}},[e._v("Bỏ lọc")])])])])],1),r("div",{staticClass:"text-right",on:{click:function(t){e.dialog=!0}}},[r("i",{staticClass:"h3 icon ion-md-funnel"})])]),r("div",{staticClass:"row main position-relative bg-white"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"table-responsive"},[r("table",{class:{"table table-striped":!0,"table-mobile":"mobile"===e.$detect}},[r("thead",[r("tr",[r("th",[e._v("ID")]),r("th",[e._v("Họ tên")]),r("th",[e._v("Số điện thoại")]),r("th",[e._v("Công ty")]),"web"===e.$detect?r("th",[e._v("Thời gian phê duyệt TĐ1")]):e._e(),r("th",[e._v("Trạng thái")]),r("th",{attrs:{width:"100"}},[e._v("Hành động")])])]),r("tbody",[e._l(e.expertiseList,(function(t){return r("tr",{key:t.id},[r("td",[e._v(" "+e._s(t.loan_id)+" ")]),r("td",[r("router-link",{staticClass:"format-link",style:t.appraised?"":"cursor: default",attrs:{to:t.appraised?e.goDetail(t):""}},[e._v(" "+e._s(t.user?t.user.data.name:t.name_user)+" ")])],1),r("td",[e._v(" "+e._s(t.user?t.user.data.phone:t.phone_user)+" ")]),r("td",[e._v(" "+e._s(t.name_enterprise)+" ")]),"web"===e.$detect?r("td",[e._v(" "+e._s(t.time_updated)+" ")]):e._e(),r("td",[e._v(" "+e._s(t.status_text)+" ")]),r("td",[t.appraised?r("router-link",{attrs:{to:e.goDetail(t)}},[r("button",{staticClass:"btn btn-primary",attrs:{disabled:e.loading}},[e._v(" Chi tiết ")])]):e._e()],1)])})),r("no-data",{attrs:{data:e.expertiseList,colspan:"web"===e.$detect?7:6}})],2)])])]),r("div",{staticClass:"col-12"},[r("ldc-pagination",{staticClass:"pt-4 border-top",attrs:{current_page:e.page,last_page:e.total,scroll_top:!0,callData:e.changePage}})],1)])])},a=[],s=r("1da1"),i=(r("b0c0"),r("96cf"),r("0949")),u=r("2b48"),c={data:function(){return{optionsStatus:[{value:1,label:"Pass TĐ1"},{value:2,label:"Duyệt thành công"},{value:3,label:"Từ chối"}],expertiseList:[],page:this.$route.query.page?parseInt(this.$route.query.page):1,pageSize:0,total:0,timeOut:null,status:this.$route.query.status?parseInt(this.$route.query.status):"",keyword:"",id_user:this.$route.query.id_user?this.$route.query.id_user:"",user_name:"",loading:!1,users:[],showSearch:!1,dialog:!1}},computed:{query:function(){return this.$route.query}},watch:{query:function(e){this.getData()}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.id_user?e.detailUser(e.id_user):e.$route.query.status?e.getData():(e.status=1,e.changeUrl()),e.$eventBus.$on("refresh_list_td2",(function(t){e.getData()})),1==e.page&&e.$eventBus.$on("new_td2",(function(t){e.getData()}));case 3:case"end":return t.stop()}}),t)})))()},methods:{focusSearch:function(){this.showSearch=!0},focusSearchMobile:function(){this.$router.push({name:"expertise-2-search",query:this.$route.query})},outsideSearch:function(){this.keyword="",this.showSearch=!1},searchUser:function(e){var t=this;if(this.users=[],e){this.loading=!0;var r={};r.keyword=e,this.timeOut&&clearTimeout(this.timeOut),this.timeOut=setTimeout((function(){Object(i["c"])(r).then((function(e){t.users=e.data.data,t.loading=!1}))}),500)}},detailUser:function(e){var t=this;Object(i["b"])(e).then((function(e){var r=e.data.data;t.user_name=r.name+" ("+r.phone+")",t.getData()})).catch((function(e){t.$showMessage(e.data.data.message,"error"),t.id_user="",t.changeUrl()}))},changePage:function(e){this.page=e,this.changeUrl()},changeUrl:function(){var e=this.setQuery();this.$router.push({name:"expertise-2",query:e})},setQuery:function(){var e={};return""!==this.status&&(e.status=this.status),""!==this.id_user&&(e.id_user=this.id_user),this.page>1&&(e.page=this.page),e},clearFilter:function(){this.keyword="",this.id_user="",this.user_name="",this.status="",this.page=1,this.changeUrl()},clearUsername:function(){this.user_name="",this.id_user="",this.page=1,this.changeUrl()},changeStatus:function(){this.page=1,this.changeUrl()},getData:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.loading=!0,n={},n=t.setQuery(),e&&(n.id_user=e),r.next=6,Object(u["e"])(n).then((function(e){if(e.data.success===API_STATUS_SUCCESS){var r=e.data;t.expertiseList=r.data;var n=r.meta.pagination;t.page=n.current_page,t.pageSize=n.per_page,t.total=n.total_pages}else t.$showMessage(e.data.message,"warning")}));case 6:t.loading=!1;case 7:case"end":return r.stop()}}),r)})))()},search:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.id_user=e.id,t.user_name=e.name+" ("+e.phone+")",t.changeUrl(),t.outsideSearch();case 4:case"end":return r.stop()}}),r)})))()},goDetail:function(e){return{name:"expertise-2-show",params:{id:e.id},query:{redirect:this.$encodeRedirect(this.setQuery())}}}}},o=c,l=(r("5158"),r("2877")),d=Object(l["a"])(o,n,a,!1,null,"5bfa9002",null);t["default"]=d.exports}}]);
//# sourceMappingURL=expertise-2.a360bdd1.js.map