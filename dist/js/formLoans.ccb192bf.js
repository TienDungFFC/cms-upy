(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["formLoans"],{1938:function(t,e,s){"use strict";s.d(e,"b",(function(){return n})),s.d(e,"c",(function(){return o})),s.d(e,"a",(function(){return l}));var a=s("1da1"),i=(s("96cf"),s("e63b")),n=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["b"])("/admin/v1/manager_loan_contract/".concat(e,"/loan-info"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["b"])("/admin/v1/manager_loan_contract",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["b"])("/admin/v1/manager_loan_contract/payment-period",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},"2b16":function(t,e,s){"use strict";s("d0f1")},"43e3":function(t,e,s){"use strict";s("c157")},"79fa":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"formLoans bg-light px-md-5 py-md-2 py-3 px-2 container-fluid"},[s("div",{},[s("div",{staticClass:"position-relative"},[s("i",{directives:[{name:"show",rawName:"v-show",value:"mobile"===t.$detect,expression:"$detect === 'mobile'"}],staticClass:"icon ion-md-arrow-back position-absolute h4 ml-2",on:{click:function(e){return t.$router.go(-1)}}}),s("i",{directives:[{name:"show",rawName:"v-show",value:!t.showDetail,expression:"!showDetail"}],staticClass:"icon ion-md-arrow-back position-absolute h4 pointer",on:{click:function(e){t.showDetail=!t.showDetail}}}),s("p",{staticClass:"h5 font-weight-bolder text-center m-0"},[t._v(" "+t._s(t.showDetail?"Thông tin giao dịch":"Chi tiết giao dịch"))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showDetail,expression:"showDetail"}],staticClass:"w-100"},["web"===t.$detect?s("div",{staticClass:"col-12"},[s("div",{staticClass:"d-flex justify-content-end align-items-end"},[s("div",{staticClass:"m-2",staticStyle:{width:"250px"}},[s("p",{staticClass:"font-weight-bolder mb-2"},[t._v("Từ ngày")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.date.date_from,expression:"date.date_from"}],staticClass:"form-control p-1",staticStyle:{width:"100%",height:"30px"},attrs:{type:"date"},domProps:{value:t.date.date_from},on:{input:function(e){e.target.composing||t.$set(t.date,"date_from",e.target.value)}}})]),s("div",{staticClass:"m-2",staticStyle:{width:"250px"}},[s("p",{staticClass:"font-weight-bolder mb-2"},[t._v("Đến ngày")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.date.date_to,expression:"date.date_to"}],staticClass:"form-control p-1",staticStyle:{width:"100%",height:"30px"},attrs:{type:"date"},domProps:{value:t.date.date_to},on:{input:function(e){e.target.composing||t.$set(t.date,"date_to",e.target.value)}}})]),s("button",{staticClass:"btn btn-primary m-2 h-50",attrs:{disabled:t.loading},on:{click:function(e){return t.searchDate()}}},[t._v("Tìm kiếm")]),s("button",{staticClass:"btn btn-secondary m-2 h-50",attrs:{disabled:""===t.date.date_from&&""===t.date.date_to},on:{click:function(e){return t.clearFilter()}}},[t._v("Bỏ lọc")])])]):t._e(),s("div",{staticClass:"mt-3"},[s("div",{staticClass:"d-flex justify-content-between align-items-center"},[s("p",{staticClass:"font-weight-bolder m-0"},[t._v(" Đã thanh toán: "+t._s(t.infoLoan.period_is_paid)+"/"+t._s(t.infoLoan.total_period)+" kỳ ")]),"mobile"===t.$detect?s("div",{staticClass:"filter",on:{click:function(e){t.dialog=!0}}},[s("i",{staticClass:"h3 icon ion-md-funnel"})]):t._e()])]),"mobile"===t.$detect?s("ldc-model-mobile",{attrs:{titileCancel:"Hủy",showCancel:!1,showTitle:!0,title:"Tìm kiếm nâng cao",customButton:!0,visible:t.dialog},on:{"update:visible":function(e){t.dialog=e}}},[s("div",{attrs:{slot:"content-model"},slot:"content-model"},[s("div",{staticClass:"d-flex p-2"},[s("div",{staticClass:"mr-1 input-mb w-50"},[s("p",{staticClass:"font-weight-bolder mb-2 text-left"},[t._v("Từ ngày")]),s("div",{staticClass:"position-relative"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.date.date_from,expression:"date.date_from"}],staticClass:"form-control input-mobile size-input rounded bg-white pl-2 input-date",staticStyle:{width:"100%",height:"30px"},attrs:{type:"date"},domProps:{value:t.date.date_from},on:{input:function(e){e.target.composing||t.$set(t.date,"date_from",e.target.value)}}}),t.isShowPlhd1?s("span",{staticClass:"position-absolute"},[t._v("Từ ngày")]):t._e()])]),s("div",{staticClass:"ml-1 input-mb w-50"},[s("p",{staticClass:"font-weight-bolder mb-2 text-left"},[t._v("Đến ngày")]),s("div",{staticClass:"position-relative"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.date.date_to,expression:"date.date_to"}],staticClass:"form-control input-mobile size-input rounded bg-white pl-2 input-date",staticStyle:{width:"100%",height:"30px"},attrs:{type:"date"},domProps:{value:t.date.date_to},on:{input:function(e){e.target.composing||t.$set(t.date,"date_to",e.target.value)}}}),t.isShowPlhd2?s("span",{staticClass:"position-absolute"},[t._v("Đến ngày")]):t._e()])])])]),s("div",{attrs:{slot:"custom-buttom"},slot:"custom-buttom"},[s("div",{class:{"btn-confirm-android":t.$isAndroid,"btn-confirm-ios mb-10px btn-custom-ios":!t.$isAndroid}},[s("button",{staticClass:"btn btn-primary radius-ios text-uppercase mr-10px fs-14px btn-apply",attrs:{"close-model-mobile":""},on:{click:function(e){return t.searchDate()}}},[t._v("áp dụng")]),s("button",{staticClass:"btn btn-light radius-ios text-uppercase ml-10px fs-14px btn-cancel",attrs:{"close-model-mobile":""},on:{click:function(e){return t.clearFilter()}}},[t._v("Bỏ lọc")])])])]):t._e(),s("div",{staticClass:"border-bottom mt-2"},[s("div",{staticClass:"table-responsive"},[s("table",{class:{"table table-striped":!0,"table-mobile":"mobile"===t.$detect}},[t._m(0),s("tbody",[t._l(t.loans,(function(e,a){return s("tr",{key:a},[s("td",[t._v(t._s(a+1))]),s("td",[t._v(t._s(e.payment_amount))]),s("td",[t._v(t._s(e.data_user_pay?e.data_user_pay.method:""))]),s("td",[t._v(t._s(e.payment_term))]),s("td",[t._v(t._s(e.payment_term))]),s("td",["OUT_OF_DATE"==e.status?s("span",[t._v("Quá hạn")]):t._e(),"DEADLINE"==e.status?s("span",[t._v("Đến hạn")]):t._e(),"UNPAID"==e.status?s("span",[t._v("Chưa thanh toán")]):t._e(),"PAID"==e.status?s("span",[t._v("Đã thanh toán")]):t._e()]),s("td",{staticClass:"text-center"},[t._v(t._s(e.loan_delay))]),("UNPAID"==e.status||e.status,s("td"))])})),s("no-data",{attrs:{data:t.loans,colspan:9}})],2)])])]),s("p",{staticClass:"font-weight-bolder mt-5"},[t._v("Tổng thanh toán: "+t._s(t.$formatNumber(t.infoLoan.amount_paid>=0?t.infoLoan.amount_paid:"")))])],1)]),"web"===t.$detect?s("detailTransaction",{directives:[{name:"show",rawName:"v-show",value:!t.showDetail,expression:"!showDetail"}],attrs:{infoDetail:t.infoDetail}}):t._e()],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("Kỳ")]),s("th",[t._v("Số tiền")]),s("th",[t._v("Phương thức")]),s("th",[t._v("Thời gian")]),s("th",[t._v("Trạng thái")]),s("th",[t._v("Tình trạng")]),s("th",{staticClass:"text-center"},[t._v("Chậm khoản vay")]),s("th",{staticClass:"text-right",staticStyle:{"min-width":"100px"},attrs:{width:"100px"}},[t._v(" Hành động ")])])])}],n=s("1938"),o=s("e467"),l={components:{detailTransaction:o["default"]},props:{propsInfo:{type:Object,default:{}},visible:{type:Boolean,default:!1}},data:function(){return{infoDetail:{},showDetail:!0,dialog:!1,loading:!1,id_loan:"",id_user:"",loans:[],infoLoan:{},date:{date_from:"",date_to:""},isShowPlhd1:!0,isShowPlhd2:!0}},watch:{visible:function(t){t&&(this.id_loan=this.propsInfo.id_loan,this.id_user=this.propsInfo.id_user,this.getDetailLoans(),this.getInfoDetail())},"date.date_from":function(t){this.isShowPlhd1=""==t},"date.date_to":function(t){this.isShowPlhd2=""==t}},created:function(){"mobile"===this.$detect&&(this.id_loan=this.propsInfo.id_loan,this.id_user=this.propsInfo.id_user,this.getDetailLoans(),this.getInfoDetail())},methods:{getDetailLoans:function(){var t=this,e={id_user:this.id_user,loan_id:this.id_loan};Object(n["a"])(e).then((function(e){t.loans=e.data.data}))},getInfoDetail:function(){var t=this;Object(n["b"])(this.id_loan).then((function(e){e.data.success===API_STATUS_SUCCESS?t.infoLoan=e.data.data:t.$showMessage(e.data.message,"warning")}))},searchDate:function(){var t=this;if(this.loading=!0,""===this.date.date_from||""===this.date.date_to)return this.$showMessage("Vui lòng nhập đầy đủ ngày tháng!","warning"),void(this.loading=!1);var e={id_user:this.id_user,loan_id:this.id_loan,date_from:this.date.date_from,date_to:this.date.date_to};Object(n["a"])(e).then((function(e){e.data.success===API_STATUS_SUCCESS?t.loans=e.data.data:t.$showMessage(e.data.message,"warning")})),this.loading=!1},goDetail:function(t,e){"web"===e?(this.showDetail=!this.showDetail,this.infoDetail=t):this.$router.push({name:"formLoans-detail",query:{infoDetail:t}})},clearFilter:function(){this.date.date_from="",this.date.date_to="",this.getDetailLoans()}}},r=l,d=(s("2b16"),s("2877")),c=Object(d["a"])(r,a,i,!1,null,null,null);e["default"]=c.exports},c157:function(t,e,s){},d0f1:function(t,e,s){},e467:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loan-detail"},["web"===t.$detect?s("div",[s("p",{staticClass:"font-weight-bolder"},[t._v("Chi tiết thanh toán kỳ 5 ( - 01/11/2021)")]),s("div",{staticClass:"d-flex justify-content-between p-3"},[s("div",{staticClass:"w-50"},[s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Thời gian thanh toán")]),s("p",[t._v(" "+t._s(t.infoDetail.payment_term)+" ")])]),s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Số tiền phải trả")]),s("p",[t._v(t._s(t.infoDetail.payment_amount))])]),t._m(0),t._m(1)]),s("div",{staticClass:"w-50"},[s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Số ngày chậm")]),s("p",[t._v(t._s(t.infoDetail.overdue_day))])]),t._m(2),t._m(3)])]),s("div",{staticClass:"bg-light d-flex p-3 mt-3"},[s("div",{staticClass:"w-50"},[s("p",{staticClass:"font-weight-bolder"},[t._v("Ảnh thanh toán")]),s("div",{staticClass:"img d-flex align-items-center",staticStyle:{width:"250px",height:"160px",overflow:"hidden"}},[s("img",{staticStyle:{width:"100%"},attrs:{src:t.$getUrlImage(""),alt:""}})])]),t._m(4)])]):s("div",{staticClass:"p-md-5 p-2 transaction-details"},[s("p",{staticClass:"font-weight-bolder"},[t._v("Chi tiết thanh toán kỳ 5 ( - 01/11/2021)")]),s("div",{staticClass:"d-md-flex justify-content-between"},[s("div",{staticClass:"w-50 form-box"},[s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Thời gian thanh toán")]),s("p",{staticClass:"w-50"},[t._v(t._s(t.infoDetailMb.payment_term)+" ")])]),s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Số tiền phải trả")]),s("p",{staticClass:"w-50"},[t._v(t._s(t.infoDetailMb.payment_amount))])]),t._m(5),t._m(6)]),s("div",{staticClass:"w-50 form-box"},[s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Số ngày chậm")]),s("p",{staticClass:"w-50"},[t._v(t._s(t.infoDetailMb.overdue_day))])]),t._m(7),t._m(8)])]),s("div",{staticClass:"bg-light d-md-flex p-md-3 py-2 mt-3"},[s("div",{staticClass:"w-50 form-box"},[s("p",{staticClass:"font-weight-bolder mb-2"},[t._v("Ảnh thanh toán")]),s("div",{staticClass:"img d-flex align-items-center",staticStyle:{width:"250px",height:"160px",overflow:"hidden"}},[s("img",{staticStyle:{width:"100%"},attrs:{src:t.$getUrlImage(""),alt:""}})])]),t._m(9)])])])},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Đã thanh toán")]),s("p")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Trạng thái")]),s("p",[t._v("Hoàn tất")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Số tiền thực tế cần trả")]),s("p",[t._v("10.200.000")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Ngày phát sinh khoản vay")]),s("p",[t._v("10:00 01/10/2021")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-50"},[s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Tên phương thức")]),s("p",[t._v("Ví Momo")])]),s("div",{staticClass:"d-flex mt-1"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Ngân hàng")]),s("p",[t._v("VIB VIB VIB VIB VIB")])]),s("div",{staticClass:"d-flex mt-1"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Số tài khoản")]),s("p",[t._v("12345678901234567890")])]),s("div",{staticClass:"d-flex mt-1"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Chủ tài khoản")]),s("p",[t._v("Nguyễn Văn A")])]),s("div",{staticClass:"d-flex mt-1"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Nội dung chuyển khoản")]),s("p",{staticClass:"w-50"},[t._v("N ộ i d u n g")])]),s("div",{staticClass:"d-flex mt-1"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Thời gian")]),s("p",[t._v("10:00 10/01/2021")])]),s("div",{staticClass:"d-flex mt-1"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Chi nhánh")]),s("p",[t._v("Hà Nội")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Đã thanh toán")]),s("p",{staticClass:"w-50"},[t._v("1.000.000")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Trạng thái")]),s("p",{staticClass:"w-50"},[t._v("Hoàn tất")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Số tiền thực tế cần trả")]),s("p",{staticClass:"w-50"},[t._v("10.200.000")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Ngày phát sinh khoản vay")]),s("p",{staticClass:"w-50"},[t._v("10:00 01/10/2021")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-50 form-box mt-2"},[s("div",{staticClass:"d-flex"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Tên phương thức")]),s("p",{staticClass:"w-50"},[t._v("Ví Momo")])]),s("div",{staticClass:"d-flex mt-1"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Ngân hàng")]),s("p",{staticClass:"w-50"},[t._v("VIB VIB VIB VIB VIB")])]),s("div",{staticClass:"d-flex mt-1"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Số tài khoản")]),s("p",{staticClass:"w-50"},[t._v("12345678901234567890")])]),s("div",{staticClass:"d-flex mt-1"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Chủ tài khoản")]),s("p",{staticClass:"w-50"},[t._v("Nguyễn Văn A")])]),s("div",{staticClass:"d-flex mt-1"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Nội dung chuyển khoản")]),s("p",{staticClass:"w-50"},[t._v("N ộ i d u n g")])]),s("div",{staticClass:"d-flex mt-1"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Thời gian")]),s("p",{staticClass:"w-50"},[t._v("10:00 10/01/2021")])]),s("div",{staticClass:"d-flex mt-1"},[s("p",{staticClass:"font-weight-bolder w-50"},[t._v("Chi nhánh")]),s("p",{staticClass:"w-50"},[t._v("Hà Nội")])])])}],n={props:{infoDetail:{type:Object,default:function(){return{}}}},data:function(){return{loading:!1,infoDetailMb:{}}},created:function(){"mobile"===this.$detect&&(this.infoDetailMb=this.$route.query.infoDetail)}},o=n,l=(s("43e3"),s("2877")),r=Object(l["a"])(o,a,i,!1,null,null,null);e["default"]=r.exports}}]);
//# sourceMappingURL=formLoans.ccb192bf.js.map