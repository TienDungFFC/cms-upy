{"version":3,"sources":["webpack:///./src/repositories/employee.js","webpack:///./src/modules/partner/views/list-employee.vue?0569","webpack:///./src/modules/partner/views/list-employee.vue?8151","webpack:///src/modules/partner/views/list-employee.vue","webpack:///./src/modules/partner/views/list-employee.vue?77d3","webpack:///./src/modules/partner/views/list-employee.vue"],"names":["getEmployee","param","apiGet","addEmployee","apiPost","exportSample","detailEmployee","id","updateEmployee","form","apiPut","deleteImage","uploadFileExcel","deleteEmployee","apiDelete","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","staticStyle","$route","_v","$myCanUploadExcel","_m","ref","attrs","on","$event","uploadFile","_e","$myCanCreate","goCreate","domProps","target","composing","keyword","search","$detect","clearFilter","class","style","_l","item","key","_s","employee_id","goDetail","position","phone","email","time_updated","loading","classify","length","page","total","changePage","dialogEmployee","employee","dialogEmployeeStatus","staticRenderFns","props","components","partnerEmployee","data","params","query","parseInt","pageSize","idEmployee","file","errors","formEmployee","avatar","birthday","id_business","id_number","labor_contract","name_search","other_info","salary","salary_increase","time_created","time_to_work","v_loading","created","getDataEmployee","computed","watch","methods","$refs","files","console","log","then","window","open","res","urlDownload","changeUrl","timeOut","clearTimeout","setTimeout","$router","push","setQuery","callData","e","component"],"mappings":"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","file":"js/chunk-ec2e8eaa.659a57c5.js","sourcesContent":["import { apiGet, apiPost, apiPut, apiDelete } from 'vue-ldc-axios/api';\n\n/**\n * Danh sách Nhân viên\n * \n * */\n export const getEmployee = async (param) => {\n    return await apiGet('/admin/v1/employee', param);\n}\n/**\n * Add Nhân viên\n * \n * */\n export const addEmployee = async (param) => {\n    return await apiPost('/admin/v1/employee', param);\n}\n/**\n * Import Nhân viên\n * \n * */\n export const importEmployee = async (param) => {\n    return await apiPost('/admin/v1/employee/import_excel', param);\n}\n\n/**\n * \n * @param {*} param \n * @returns \n */\n export const exportSample = async () => {\n    return await apiGet('/admin/v1/employee/export_excel_example');\n}\n/**\n * Chi tiết Nhân viên\n * \n * */\n export const detailEmployee = async (id) => {\n    return await apiGet(`/admin/v1/employee/${id}`);\n}\n/**\n * Update Nhân viên\n * \n * */\n export const updateEmployee = async (id,form) => {\n    return await apiPut(`/admin/v1/employee/${id}`, form);\n}\n/**\n * Xoá ảnh hợp đồng or quyết định lên lương\n * \n * */\n export const deleteImage = async (id,form) => {\n    return await apiPost(`/admin/v1/employee/${id}/delete_image`, form);\n}\n/**\n * upload file excel\n * \n * */\n export const uploadFileExcel = async (form) => {\n    return await apiPost(`/admin/v1/employee/import_excel`, form);\n}\n/**\n * Xóa Nhân viên\n * \n * */\n\n export const deleteEmployee = async (id) => {\n    return await apiDelete(`admin/v1/employee/${id}`);\n}\n","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list-employee.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.v_loading),expression:\"v_loading\"}],staticClass:\"container-fluid py-lg-3 mt-3 pt-3 bg-white shadow-sm\",staticStyle:{\"border-radius\":\"5px\"}},[(_vm.$route.name != 'partner-add')?_c('div',{staticClass:\"inforEmploye\"},[_c('h4',{staticClass:\"mb-3 font-weight-bold\"},[_vm._v(\" Thông tin nhân viên \")]),_c('div',{staticClass:\"d-flex align-items-lg-end flex-column flex-lg-row justify-content-between pb-4\"},[_c('div',[(_vm.$myCanUploadExcel())?_c('button',{staticClass:\"btn btn-info mr-3 position-relative\"},[_vm._m(0),_c('input',{ref:\"file\",staticClass:\"ip-excel\",attrs:{\"type\":\"file\",\"accept\":\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"},on:{\"change\":function($event){return _vm.uploadFile()}}})]):_vm._e(),(_vm.$myCanUploadExcel())?_c('button',{staticClass:\"btn btn-primary mr-3 position-relative\",on:{\"click\":function($event){return _vm.exportSample()}}},[_vm._m(1)]):_vm._e(),(_vm.$myCanCreate())?_c('button',{staticClass:\"btn btn-success\",on:{\"click\":function($event){return _vm.goCreate()}}},[_c('i',{staticClass:\"icon ion-md-add\"}),_vm._v(\" Thêm mới \")]):_vm._e()]),_c('div',{staticClass:\"d-flex align-items-end justify-content-lg-end mt-3 mt-lg-0\"},[_c('div',{staticClass:\"flex-grow-1 glex-grow-lg-0 position-relative\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keyword),expression:\"keyword\"}],staticClass:\"form-control size-input\",attrs:{\"placeholder\":\"Tìm kiếm theo họ tên, SĐT, email\"},domProps:{\"value\":(_vm.keyword)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value},function($event){return _vm.search()}]}}),(_vm.keyword !== '' && _vm.$detect === 'mobile')?_c('span',{staticClass:\"position-absolute\",staticStyle:{\"top\":\"50%\",\"right\":\"6px\",\"transform\":\"translateY(-50%)\"},on:{\"click\":function($event){return _vm.clearFilter()}}},[_c('i',{staticClass:\"icon ion-md-close-circle-outline\",staticStyle:{\"color\":\"#d5d5d5\",\"font-size\":\"18px\"}})]):_vm._e()]),(_vm.$detect === 'web')?_c('div',{staticClass:\"ml-3\"},[_c('button',{staticClass:\"btn btn-secondary w-100\",attrs:{\"disabled\":_vm.keyword === ''},on:{\"click\":function($event){return _vm.clearFilter()}}},[_vm._v(\" Bỏ lọc \")])]):_vm._e()])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"ID\")]),_c('th',{staticStyle:{\"min-width\":\"120px\"}},[_vm._v(\"Họ tên\")]),_c('th',{staticStyle:{\"min-width\":\"80px\"}},[_vm._v(\"Chức vụ\")]),_c('th',{staticStyle:{\"min-width\":\"110px\"}},[_vm._v(\"Số điện thoại\")]),_c('th',{class:_vm.$detect == 'mobile' ? 'd-none' : ''},[_vm._v(\"Email\")]),_c('th',{class:_vm.$detect == 'mobile' ? 'd-none' : '',staticStyle:{\"min-width\":\"150px\"}},[_vm._v(\" Thời gian cập nhật \")]),_c('th',{style:(_vm.$route.name == 'company-information'\n                      ? 'min-width: 150px'\n                      : 'min-width: 100px'),attrs:{\"width\":\"150px\"}},[_vm._v(\" Hành động \")])])]),_c('tbody',_vm._l((_vm.getEmployee),function(item){return _c('tr',{key:item.id},[_c('td',[_vm._v(_vm._s(item.employee_id))]),_c('td',{staticClass:\"pointer\",on:{\"click\":function($event){return _vm.goDetail(item.id)}}},[_vm._v(_vm._s(item.name))]),_c('td',[_vm._v(_vm._s(item.position))]),_c('td',[_vm._v(_vm._s(item.phone))]),_c('td',{class:_vm.$detect == 'mobile' ? 'd-none' : ''},[_vm._v(\" \"+_vm._s(item.email)+\" \")]),_c('td',{class:_vm.$detect == 'mobile' ? 'd-none' : ''},[_vm._v(\" \"+_vm._s(item.time_updated)+\" \")]),_c('td',[_c('button',{staticClass:\"btn btn-primary\",staticStyle:{\"margin-right\":\"5px\"},attrs:{\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.goDetail(item.id)}}},[_vm._v(\" Chi tiết \")]),(_vm.classify != 'ADMIN_CMS')?_c('button',{staticClass:\"btn btn-danger\",attrs:{\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.deleteEmployee(item.id)}}},[_vm._v(\" Xóa \")]):_vm._e()])])}),0)]),(_vm.getEmployee.length === 0)?_c('div',{staticClass:\"text-center text-black-50 py-4\"},[_vm._v(\" Không có dữ liệu \")]):_vm._e()])]),_c('div',{staticClass:\"col-12\"},[_c('ldc-pagination',{staticClass:\"pt-4 border-top\",attrs:{\"current_page\":_vm.page,\"last_page\":_vm.total,\"scroll_top\":true,\"callData\":_vm.changePage}})],1)]),_c('partnerEmployee',{attrs:{\"visible\":_vm.dialogEmployee,\"employee\":_vm.employee,\"classify\":_vm.classify,\"status\":_vm.dialogEmployeeStatus},on:{\"update:visible\":function($event){_vm.dialogEmployee=$event}}})],1):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"icon ion-md-cloud-upload\"}),_vm._v(\" Tải lên (xlxs/csv)\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i',{staticClass:\"icon ion-md-cloud-download\"}),_vm._v(\" Tải xuống mẫu\")])}]\n\nexport { render, staticRenderFns }","<template>\n  <div v-loading=\"v_loading\" class=\"container-fluid py-lg-3 mt-3 pt-3 bg-white shadow-sm\" style=\"border-radius: 5px\">\n    <div class=\"inforEmploye\" v-if=\"$route.name != 'partner-add'\">\n      <h4 class=\"mb-3 font-weight-bold\">\n        Thông tin nhân viên\n      </h4>\n      <div class=\"d-flex align-items-lg-end flex-column flex-lg-row justify-content-between pb-4\">\n          <div>\n            <button\n              class=\"btn btn-info mr-3 position-relative\"\n              v-if=\"$myCanUploadExcel()\">\n              <span><i class=\"icon ion-md-cloud-upload\"></i> Tải lên (xlxs/csv)</span>\n              <input\n                class=\"ip-excel\"\n                type=\"file\"\n                ref=\"file\"\n                @change=\"uploadFile()\"\n                accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n              />\n            </button>\n            <button\n              class=\"btn btn-primary mr-3 position-relative\"\n              v-if=\"$myCanUploadExcel()\"\n              @click=\"exportSample()\">\n              <span><i class=\"icon ion-md-cloud-download\"></i> Tải xuống mẫu</span>\n            </button>\n            <button\n              class=\"btn btn-success\"\n              @click=\"goCreate()\"\n              v-if=\"$myCanCreate()\">\n              <i class=\"icon ion-md-add\"></i> Thêm mới\n            </button>\n          </div>\n          <div class=\"d-flex align-items-end justify-content-lg-end mt-3 mt-lg-0\">\n            <div class=\"flex-grow-1 glex-grow-lg-0 position-relative\">\n              <input\n                class=\"form-control size-input\"\n                v-model=\"keyword\"\n                placeholder=\"Tìm kiếm theo họ tên, SĐT, email\"\n                @input=\"search()\"\n              />\n              <span\n                v-if=\"keyword !== '' && $detect === 'mobile'\"\n                class=\"position-absolute\"\n                style=\"top: 50%; right: 6px; transform: translateY(-50%);\"\n                @click=\"clearFilter()\">\n                <i class=\"icon ion-md-close-circle-outline\" style=\"color: #d5d5d5; font-size: 18px;\"></i>\n              </span>\n            </div>\n            <div v-if=\"$detect === 'web'\" class=\"ml-3\">\n              <button \n                  class=\"btn btn-secondary w-100\"\n                  :disabled=\"keyword === ''\"\n                  @click=\"clearFilter()\">\n                      Bỏ lọc\n              </button>\n            </div>\n          </div>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <div class=\"table-responsive\">\n            <table class=\"table\">\n              <thead>\n                <tr>\n                  <th>ID</th>\n                  <th style=\"min-width: 120px\">Họ tên</th>\n                  <th style=\"min-width: 80px\">Chức vụ</th>\n                  <th style=\"min-width: 110px\">Số điện thoại</th>\n                  <th :class=\"$detect == 'mobile' ? 'd-none' : ''\">Email</th>\n                  <th\n                    :class=\"$detect == 'mobile' ? 'd-none' : ''\"\n                    style=\"min-width: 150px\"\n                  >\n                    Thời gian cập nhật\n                  </th>\n                  <th\n                    :style=\"\n                      $route.name == 'company-information'\n                        ? 'min-width: 150px'\n                        : 'min-width: 100px'\n                    \"\n                    width=\"150px\"\n                  >\n                    Hành động\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"item in getEmployee\" :key=\"item.id\">\n                  <td>{{ item.employee_id }}</td>\n                  <td class=\"pointer\" @click=\"goDetail(item.id)\">{{ item.name }}</td>\n                  <td>{{ item.position }}</td>\n                  <td>{{ item.phone }}</td>\n                  <td :class=\"$detect == 'mobile' ? 'd-none' : ''\">\n                    {{ item.email }}\n                  </td>\n                  <td :class=\"$detect == 'mobile' ? 'd-none' : ''\">\n                    {{ item.time_updated }}\n                  </td>\n                  <td>\n                    <button\n                      class=\"btn btn-primary\"\n                      style=\"margin-right: 5px\"\n                      @click=\"goDetail(item.id)\"\n                      :disabled=\"loading\"\n                    >\n                      Chi tiết\n                    </button>\n                    <button\n                      class=\"btn btn-danger\"\n                      v-if=\"classify != 'ADMIN_CMS'\"\n                      @click=\"deleteEmployee(item.id)\"\n                      :disabled=\"loading\"\n                    >\n                      Xóa\n                    </button>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n            <div\n              v-if=\"getEmployee.length === 0\"\n              class=\"text-center text-black-50 py-4\"\n            >\n              Không có dữ liệu\n            </div>\n          </div>\n        </div>\n        <div class=\"col-12\">\n          <ldc-pagination\n            :current_page=\"page\"\n            :last_page=\"total\"\n            :scroll_top=\"true\"\n            :callData=\"changePage\"\n            class=\"pt-4 border-top\"\n          >\n          </ldc-pagination>\n        </div>\n      </div>\n      <partnerEmployee\n        :visible.sync=\"dialogEmployee\"\n        :employee=\"employee\"\n        :classify=\"classify\"\n        :status=\"dialogEmployeeStatus\"\n      >\n      </partnerEmployee>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  getEmployee,\n  deleteEmployee,\n  detailEmployee,\n  uploadFileExcel,\n  exportSample,\n} from \"@/repositories/employee\";\nexport default {\n  props: [\"classify\"],\n  components: {\n    partnerEmployee: () => import(\"./employee-partner\"),\n  },\n  data() {\n    return {\n      id: this.$route.params.id,\n      getEmployee: [],\n      page: this.$route.query.page ? parseInt(this.$route.query.page) : 1,\n      pageSize: 0,\n      loading: false,\n      total: 0,\n      idEmployee: \"\",\n      keyword: \"\",\n      dialogEmployee: false,\n      dialogEmployeeStatus: \"create\",\n      file: \"\",\n      errors: {},\n      employee: {},\n      formEmployee: {\n        avatar: \"\",\n        birthday: \"\",\n        id: \"\",\n        id_business: \"\",\n        id_number: \"\",\n        labor_contract: \"\",\n        name: \"\",\n        name_search: \"\",\n        other_info: \"\",\n        phone: \"\",\n        position: \"\",\n        salary: \"\",\n        salary_increase: \"\",\n        time_created: \"\",\n        time_to_work: \"\",\n        time_updated: \"\",\n      },\n      v_loading: false\n    };\n  },\n  created() {\n    this.getDataEmployee();\n  },\n  computed: {\n    query() {\n      return this.$route.query;\n    },\n  },\n  watch: {\n    query(val) {\n      this.getDataEmployee();\n    },\n  },\n  methods: {\n    uploadFile() {\n      this.file = this.$refs.file.files[0];\n      console.log(this.file);\n      if (this.file) {\n        this.uploadFileExcel(this.file).then(res => {\n          this.$showMessage(res.data.message, 'success')\n        }).catch(err => {\n          this.$showMessage(err.data.data.message, 'warning')\n        })\n        this.getDataEmployee();\n      }\n    },\n    exportSample() {\n      this.v_loading = true;\n      exportSample().then(res => {\n        if(res.data.success === API_STATUS_SUCCESS) {\n          window.open(res.data.urlDownload)\n        } else {\n          this.$showMessage(res.data.message, 'warning')\n        }\n      }).catch(err => this.v_loading = false)\n      this.v_loading = false;\n    },\n    changePage(page) {\n      this.page = page;\n      this.changeUrl();\n    },\n    search() {\n      if (this.timeOut) clearTimeout(this.timeOut);\n      this.timeOut = setTimeout(() => {\n        this.page = 1;\n        this.changeUrl();\n      }, 500);\n    },\n    clearFilter() {\n      this.keyword = '';\n      this.page = 1;\n      this.changeUrl();\n    },\n    changeUrl() {\n      this.$router.push({\n        name: this.$route.name,\n        query: this.setQuery(),\n      });\n    },\n    setQuery() {\n      let query = {};\n      if (this.keyword !== \"\") query.keyword = this.keyword;\n      if (this.page > 1) query.page = this.page;\n      return query;\n    },\n    goCreate() {\n      if (this.$route.name == \"company-information\") {\n        this.$router.push({\n          name: \"add-employee\",\n        });\n      } else {\n        this.dialogEmployee = true;\n        this.dialogEmployeeStatus = \"create\";\n      }\n    },\n    async deleteEmployee(id) {\n      await this.$confirm(`Bạn có chắc chắn xóa `, \"Xóa nhân viên\", {\n        confirmButtonText: \"Đồng ý\",\n        cancelButtonText: \"Hủy\",\n        type: \"error\",\n      })\n        .then(async () => {\n          this.loading = true;\n          await deleteEmployee(id).then((res) => {\n            this.$showMessage(res.data.data.message);\n            this.getDataEmployee();\n          });\n          this.loading = false;\n        })\n        .catch(() => {});\n    },\n    async uploadFileExcel(file) {\n      let file_data = new FormData();\n      file_data.append(\"file\", file);\n      await uploadFileExcel(file_data).then((res) => {\n        this.loading = true;\n        this.$showMessage(res.data.message);\n        this.loading = false;\n      });\n      this.file = \"\";\n    },\n    async goDetail(idEmployee) {\n      if (this.$route.name == \"company-information\") {\n        this.$router.push({\n          name: \"detail-employee\",\n          params: {\n            id: idEmployee,\n          },\n        });\n      } else if(this.$route.name == \"partner-show\" && this.$detect == 'mobile') {\n        this.$router.push({\n          name: \"partner-show-emplyee\",\n          params: {\n            id: idEmployee,\n          },\n        });\n      } else {\n        this.loading = true;\n        await this.detailEmployee(idEmployee);\n        this.loading = false;\n        this.dialogEmployee = true;\n        this.dialogEmployeeStatus = \"show\"\n      }\n    },\n    getDataEmployee() {\n      let query = {};\n      query.id_business = this.id;\n      if (this.keyword !== \"\") query.keyword = this.keyword;\n\n      if (this.page > 1) query.page = this.page;\n      getEmployee(query).then((res) => {\n        this.getEmployee = res.data.data.data;\n        let pagination = res.data.data.meta.pagination;\n        this.page = pagination.current_page;\n        this.pageSize = pagination.per_page;\n        this.total = pagination.total_pages;\n      });\n    },\n    async detailEmployee(idEmployee) {\n      let id = idEmployee;\n      await detailEmployee(id).then((res) => {\n        let data = res.data.data;\n        this.employee = data;\n        //format date\n        if (this.employee.birthday) {\n          var arrDate = this.employee.birthday.split(\"-\");\n          this.employee.birthday =\n            arrDate[2] + \"-\" + arrDate[1] + \"-\" + arrDate[0];\n        }\n\n        if (this.employee.time_to_work) {\n          var arrDate = this.employee.time_to_work.split(\"-\");\n          this.employee.time_to_work =\n            arrDate[2] + \"-\" + arrDate[1] + \"-\" + arrDate[0];\n        }\n        // }\n      });\n    },\n    callData(e) {\n      if (e) {\n        this.page = 1;\n        this.keyword = \"\";\n        this.changeUrl();\n        this.getDataEmployee();\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.ip-excel {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 100;\n  opacity: 0;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list-employee.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list-employee.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list-employee.vue?vue&type=template&id=5bda40c1&\"\nimport script from \"./list-employee.vue?vue&type=script&lang=js&\"\nexport * from \"./list-employee.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list-employee.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}