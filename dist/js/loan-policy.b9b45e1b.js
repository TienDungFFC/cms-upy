(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["loan-policy"],{"038e":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o}));var r=n("1da1"),a=(n("96cf"),n("e63b")),s=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["b"])("/admin/v1/tenor_packages",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["b"])("/admin/v1/tenor_packages/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(a["d"])("/admin/v1/tenor_packages/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},"4a4c":function(e,t,n){},"4de4":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").filter,s=n("1dde"),i=s("filter");r({target:"Array",proto:!0,forced:!i},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("b64b"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("159b"),n("dbb4");var r=n("ade3");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},"6cf3":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loan-policy container-fluid"},["web"===e.$detect?n("p",{staticClass:"h5 font-weight-bold"},[e._v("Quản lý chính sách cho vay")]):e._e(),n("div",{staticClass:"row main mt-md-5 mt-2"},[n("div",{staticClass:"col-12 border-bottom"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table table-striped"},[e._m(0),n("tbody",[e._l(e.LoanPolicies,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.loan_term_package_id))]),n("td",[e._v(e._s(t.tenor))]),n("td",[e._v(e._s(t.total_interest_rate)+" %")]),n("td",{staticClass:"text-center"},[n("router-link",{attrs:{to:e.goDetail(t)}},[n("button",{staticClass:"btn btn-primary"},[e._v(" Chi tiết ")])])],1)])})),n("no-data",{attrs:{data:e.LoanPolicies,colspan:4}})],2)])])])])])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",[e._v("ID")]),n("th",[e._v("Số kỳ hạn")]),n("th",[e._v("Lãi suất")]),n("th",{staticClass:"text-center",attrs:{width:"100px"}},[e._v(" Hành động ")])])])}],s=n("1da1"),i=(n("96cf"),n("038e")),o={data:function(){return{LoanPolicies:[]}},computed:{},watch:{},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.getData();case 1:case"end":return t.stop()}}),t)})))()},methods:{getData:function(){var e=this,t={};Object(i["b"])(t).then((function(t){t.data.success===API_STATUS_SUCCESS?e.LoanPolicies=t.data.data.data:e.$showMessage(t.data.message,"warning")}))},goDetail:function(e){return{name:"loan-policy-show",params:{id:e.id}}}}},c=o,l=n("2877"),u=Object(l["a"])(c,r,a,!1,null,null,null);t["default"]=u.exports},ade3:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},ccef:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loan-policy-show container-fluid"},["web"===e.$detect?n("p",{staticClass:"h5 font-weight-bold"},[e._v("Chính sách cho vay")]):e._e(),n("div",{staticClass:"row mt-md-4"},[n("div",{staticClass:"col-lg-6 mt-3"},[n("div",{class:{"bg-mb rounded-top p-1 shadow-sm":"mobile"===e.$detect}},[n("p",{staticClass:"font-weight-bold m-0"},[e._v("Tiền vay")]),n("div",{staticClass:"d-md-flex justify-content-between align-items-center mt-md-3 p-md-0 py-2"},[n("label",{class:{"m-0":"mobile"===e.$detect},staticStyle:{width:"250px"}},[e._v("Số kỳ hạn")]),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.tenor,expression:"form.tenor"}],staticClass:"form-control rounded size-input",class:{"is-invalid":e.errors.tenor},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Số kỳ hạn",type:"text",inputmode:"numeric"},domProps:{value:e.form.tenor},on:{focus:function(e){return e.target.select()},input:[function(t){t.target.composing||e.$set(e.form,"tenor",t.target.value)},function(t){return e.formatInt("tenor")}]}}),n("form-invalid",{attrs:{error:e.errors.tenor}})],1)]),n("div",{staticClass:"d-md-flex justify-content-between align-items-center mt-md-3"},[n("label",{class:{"m-0":"mobile"===e.$detect},staticStyle:{width:"250px"}},[e._v("Lãi suất hàng tháng")]),n("div",{staticClass:"input-group position-relative align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.interest_rate,expression:"form.interest_rate"}],staticClass:"form-control rounded size-input pr-4",class:{"is-invalid":e.errors.interest_rate},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Lãi suất",type:"number",inputmode:"decimal"},domProps:{value:e.form.interest_rate},on:{input:[function(t){t.target.composing||e.$set(e.form,"interest_rate",t.target.value)},function(t){return e.formatPercent("interest_rate")}],focus:function(e){return e.target.select()}}}),n("span",{class:{"ml-3 font-weight-bold position-absolute":!0,percent:"web"===e.$detect,percentMb:"mobile"===e.$detect}},[e._v("%")]),n("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.interest_rate))])])])]),n("div",{class:{"mt-4":!0,"bg-mb rounded-top p-1 shadow-sm":"mobile"===e.$detect}},[n("p",{staticClass:"font-weight-bold m-0"},[e._v("Phí phạt")]),n("div",{staticClass:"d-md-flex justify-content-between align-items-center mt-md-3 p-md-0 py-2"},[n("label",{class:{"m-0":"mobile"===e.$detect},staticStyle:{width:"250px"}},[e._v("Thanh toán trước kì hạn/thừa")]),n("div",{staticClass:"input-group position-relative align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.prepayment_penalty,expression:"form.prepayment_penalty"}],staticClass:"form-control rounded size-input pr-4",class:{"is-invalid":e.errors.prepayment_penalty},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Thanh toán trước kì hạn/thừa",type:"number",inputmode:"decimal"},domProps:{value:e.form.prepayment_penalty},on:{input:[function(t){t.target.composing||e.$set(e.form,"prepayment_penalty",t.target.value)},function(t){return e.formatPercent("prepayment_penalty")}],focus:function(e){return e.target.select()}}}),n("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.prepayment_penalty))]),n("span",{class:{"ml-3 font-weight-bold position-absolute":!0,percent:"web"===e.$detect,percentMb:"mobile"===e.$detect}},[e._v("%")])])]),n("div",{staticClass:"d-md-flex justify-content-between align-items-center mt-md-3 p-md-0 pb-2"},[n("label",{class:{"m-0":"mobile"===e.$detect},staticStyle:{width:"250px"}},[e._v("Nợ quá hạn")]),"web"===e.$detect?n("ldc-select",{staticClass:"size-input",staticStyle:{width:"100%"},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Theo ngày hoặc theo lãi suất"},model:{value:e.form.type_punishment,callback:function(t){e.$set(e.form,"type_punishment",t)},expression:"form.type_punishment"}},e._l(e.optionPunish,(function(e){return n("ldc-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1):n("select",{directives:[{name:"model",rawName:"v-model",value:e.form.type_punishment,expression:"form.type_punishment"}],class:{"size-input form-control":!0,"select-ios":!e.$isAndroid,"pl-1":e.$isAndroid},staticStyle:{width:"100%"},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Theo ngày hoặc theo lãi suất"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.form,"type_punishment",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"",disabled:"",hidden:""}},[e._v("Nợ quá hạn")]),e._l(e.optionPunish,(function(t){return n("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.label))])}))],2)],1),"DATE"==e.form.type_punishment||""==e.form.type_punishment?n("div",{staticClass:"d-md-flex justify-content-between align-items-center mt-md-3"},[n("label",{class:{"m-0":"mobile"===e.$detect},staticStyle:{width:"250px"}},[e._v("Số tiền")]),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.number_punishment,expression:"form.number_punishment"}],staticClass:"form-control rounded size-input",class:{"is-invalid":e.errors.number_punishment},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Số tiền",type:"text",inputmode:"numeric"},domProps:{value:e.form.number_punishment},on:{focus:function(e){return e.target.select()},input:[function(t){t.target.composing||e.$set(e.form,"number_punishment",t.target.value)},function(t){return e.formatInt("number_punishment")}]}}),n("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.number_punishment))])])]):n("div",{staticClass:"d-md-flex justify-content-between align-items-center mt-md-3 p-md-0 pb-2"},[n("label",{class:{"m-0":"mobile"===e.$detect},staticStyle:{width:"250px"}},[e._v("Lãi suất")]),n("div",{staticClass:"input-group position-relative align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.number_punishment,expression:"form.number_punishment"}],staticClass:"form-control rounded size-input pr-4",class:{"is-invalid":e.errors.number_punishment},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Lãi suất",type:"number",inputmode:"decimal"},domProps:{value:e.form.number_punishment},on:{input:[function(t){t.target.composing||e.$set(e.form,"number_punishment",t.target.value)},function(t){return e.formatPercent("number_punishment")}],focus:function(e){return e.target.select()}}}),n("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.number_punishment))]),n("span",{class:{"ml-3 font-weight-bold position-absolute":!0,percent:"web"===e.$detect,percentMb:"mobile"===e.$detect}},[e._v("%")])])])]),n("div",{class:{"mt-4":!0,"bg-mb rounded-top p-1 shadow-sm":"mobile"===e.$detect}},[n("p",{staticClass:"font-weight-bold m-0"},[e._v("Phí thành viên")]),n("div",{staticClass:"d-md-flex justify-content-between align-items-center mt-md-3 p-md-0 py-2"},[n("label",{class:{"m-0":"mobile"===e.$detect},staticStyle:{width:"250px"}},[e._v("Phí TV1")]),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.tv1,expression:"form.tv1"}],staticClass:"form-control rounded size-input",class:{"is-invalid":e.errors.tv1},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Phí TV1",type:"text",inputmode:"numeric"},domProps:{value:e.form.tv1},on:{focus:function(e){return e.target.select()},input:[function(t){t.target.composing||e.$set(e.form,"tv1",t.target.value)},function(t){return e.formatInt("tv1")}]}}),n("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.tv1))])])]),n("div",{staticClass:"d-md-flex justify-content-between align-items-center mt-md-3 p-md-0 pb-2"},[n("label",{class:{"m-0":"mobile"===e.$detect},staticStyle:{width:"250px"}},[e._v("Phí TV2")]),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.tv2,expression:"form.tv2"}],staticClass:"form-control rounded size-input",class:{"is-invalid":e.errors.tv2},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Phí TV2",type:"text",inputmode:"numeric"},domProps:{value:e.form.tv2},on:{focus:function(e){return e.target.select()},input:[function(t){t.target.composing||e.$set(e.form,"tv2",t.target.value)},function(t){return e.formatInt("tv2")}]}}),n("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.tv2))])])]),n("div",{staticClass:"d-md-flex justify-content-between align-items-center mt-md-3"},[n("label",{class:{"m-0":"mobile"===e.$detect},staticStyle:{width:"250px"}},[e._v("Hạn mức TV1")]),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.money_tv,expression:"form.money_tv"}],staticClass:"form-control rounded size-input",class:{"is-invalid":e.errors.money_tv},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Hạn mức TV1",type:"text",inputmode:"numeric"},domProps:{value:e.form.money_tv},on:{focus:function(e){return e.target.select()},input:[function(t){t.target.composing||e.$set(e.form,"money_tv",t.target.value)},function(t){return e.formatInt("money_tv")}]}}),n("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.money_tv))])])])])]),n("div",{staticClass:"col-lg-6 mt-3"},[n("div",{class:{"bg-mb rounded-top p-1 shadow-sm":"mobile"===e.$detect}},[n("p",{staticClass:"font-weight-bold m-0"},[e._v("Ưu đãi tất toán")]),n("div",{staticClass:"d-md-flex justify-content-between align-items-center mt-md-3 p-md-0 pb-2"},[n("label",{class:{"m-0":"mobile"===e.$detect},staticStyle:{width:"250px"}},[e._v("Số ngày miễn full phí vay")]),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.max_day_free,expression:"form.max_day_free"}],staticClass:"form-control rounded size-input",class:{"is-invalid":e.errors.max_day_free},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Số ngày miễn full phí vay",type:"text",inputmode:"numeric"},domProps:{value:e.form.max_day_free},on:{focus:function(e){return e.target.select()},input:[function(t){t.target.composing||e.$set(e.form,"max_day_free",t.target.value)},function(t){return e.formatInt("max_day_free")}]}}),n("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.max_day_free))])])]),n("div",{staticClass:"d-md-flex justify-content-between align-items-center mt-md-3"},[n("label",{class:{"m-0":"mobile"===e.$detect},staticStyle:{width:"250px"}},[e._v("Số ngày miễn 1 phần phí")]),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.max_day_free_costs_incurred,expression:"form.max_day_free_costs_incurred"}],staticClass:"form-control rounded size-input",class:{"is-invalid":e.errors.max_day_free_costs_incurred},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Số ngày miễn 1 phần phí",type:"text",inputmode:"numeric"},domProps:{value:e.form.max_day_free_costs_incurred},on:{focus:function(e){return e.target.select()},input:[function(t){t.target.composing||e.$set(e.form,"max_day_free_costs_incurred",t.target.value)},function(t){return e.formatInt("max_day_free_costs_incurred")}]}}),n("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.max_day_free_costs_incurred))])])])]),n("div",{class:{"mt-4":!0,"bg-mb rounded-top p-1 shadow-sm":"mobile"===e.$detect}},[n("p",{staticClass:"font-weight-bold m-0"},[e._v("Phí khoản vay")]),n("div",{staticClass:"d-md-flex justify-content-between align-items-center mt-md-3 p-md-0 py-2"},[n("label",{class:{"m-0":"mobile"===e.$detect},staticStyle:{width:"250px"}},[e._v("Phí khoản vay")]),"web"===e.$detect?n("ldc-select",{staticClass:"size-input",staticStyle:{width:"100%"},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Trả trước hoặc trả sau"},model:{value:e.typeFees,callback:function(t){e.typeFees=t},expression:"typeFees"}},e._l(e.optionTypeFees,(function(e){return n("ldc-option",{key:e.value,attrs:{value:e.value,label:e.label}})})),1):n("select",{directives:[{name:"model",rawName:"v-model",value:e.typeFees,expression:"typeFees"}],class:{"size-input form-control":!0,"select-ios":!e.$isAndroid,"pl-1":e.$isAndroid},staticStyle:{width:"100%"},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Trả trước hoặc trả sau"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.typeFees=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",disabled:"",hidden:""}},[e._v("Phí khoản vay")]),e._l(e.optionTypeFees,(function(t){return n("option",{key:t.value,domProps:{value:t.value}},[e._v(e._s(t.label))])}))],2)],1),n("div",{staticClass:"d-md-flex justify-content-between align-items-center mt-md-3 p-md-0 pb-2"},[n("label",{class:{"m-0":"mobile"===e.$detect},staticStyle:{width:"250px"}},[e._v("Phí chuyển đổi khoản vay")]),n("div",{staticClass:"input-group position-relative align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.loan_conversion_fee,expression:"form.loan_conversion_fee"}],staticClass:"form-control rounded size-input pr-4",class:{"is-invalid":e.errors.loan_conversion_fee},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Phí chuyển đổi khoản vay",type:"number",inputmode:"decimal"},domProps:{value:e.form.loan_conversion_fee},on:{input:[function(t){t.target.composing||e.$set(e.form,"loan_conversion_fee",t.target.value)},function(t){return e.formatPercent("loan_conversion_fee")}],focus:function(e){return e.target.select()}}}),n("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.loan_conversion_fee))]),n("span",{class:{"ml-3 font-weight-bold position-absolute":!0,percent:"web"===e.$detect,percentMb:"mobile"===e.$detect}},[e._v("%")])])]),n("div",{staticClass:"d-md-flex justify-content-between align-items-center mt-md-3"},[n("label",{class:{"m-0":"mobile"===e.$detect},staticStyle:{width:"250px"}},[e._v("Phí bảo hiểm")]),n("div",{staticClass:"input-group position-relative align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.form.insurance_fees,expression:"form.insurance_fees"}],staticClass:"form-control rounded size-input pr-4",class:{"is-invalid":e.errors.insurance_fees},attrs:{disabled:!e.$myCanUpdate(),placeholder:"Phí bảo hiểm",type:"number",inputmode:"decimal"},domProps:{value:e.form.insurance_fees},on:{input:[function(t){t.target.composing||e.$set(e.form,"insurance_fees",t.target.value)},function(t){return e.formatPercent("insurance_fees")}],focus:function(e){return e.target.select()}}}),n("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.errors.insurance_fees))]),n("span",{class:{"ml-3 font-weight-bold position-absolute":!0,percent:"web"===e.$detect,percentMb:"mobile"===e.$detect}},[e._v("%")])])]),e._l(e.form.other_fees,(function(t,r){return n("div",{key:r,staticClass:"d-flex justify-content-between align-items-end mt-3",class:{"is-invalid":e.errors.other_fees}},[n("div",{class:"web"===e.$detect?"mr-4":"mr-1",staticStyle:{width:"240px"}},[n("label",[e._v("Tiêu đề phí")]),n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.label,expression:"item.label"}],staticClass:"form-control rounded size-input",attrs:{disabled:!e.$myCanUpdate(),placeholder:"Tiêu đề phí",type:"text"},domProps:{value:t.label},on:{input:function(n){n.target.composing||e.$set(t,"label",n.target.value)}}})])]),n("div",{staticStyle:{width:"100%"}},[n("label",[e._v("Phần trăm phí")]),n("div",{staticClass:"input-group position-relative align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"item.value"}],staticClass:"form-control rounded size-input pr-4",attrs:{disabled:!e.$myCanUpdate(),placeholder:"Phần trăm phí",type:"number",inputmode:"decimal"},domProps:{value:t.value},on:{input:[function(n){n.target.composing||e.$set(t,"value",n.target.value)},function(t){return e.formatPercent("insurance_fees")}],focus:function(e){return e.target.select()}}}),n("span",{class:{"ml-3 font-weight-bold position-absolute":!0,percent:"web"===e.$detect,percentMb:"mobile"===e.$detect}},[e._v("%")])])]),e.$myCanUpdate()?n("button",{staticClass:"btn btn-danger btn-delete rounded-circle ml-2 h-50",attrs:{type:"button"},on:{click:function(t){return e.removeOther(r)}}},[n("i",{staticClass:"icon ion-md-trash"})]):e._e()])})),n("div",{staticClass:"invalid-feedback"},[e._v("Vui lòng nhập lại thông tin thêm")]),e.$myCanUpdate()?n("button",{staticClass:"btn btn-primary mt-3",on:{click:function(t){return e.addOther()}}},[e._v("Thêm khoản phí")]):e._e()],2)])]),e.$myCanUpdate()?n("buttom-fixed",[n("div",{class:{"w-100":"mobile"===e.$detect}},[n("button",{class:{"btn btn-success px-5 mt-5":!0,"w-100 size-button":"mobile"===e.$detect},attrs:{disabled:e.loading},on:{click:function(t){return e.update()}}},[e._v("Lưu")])])]):e._e()],1)},a=[],s=n("5530"),i=n("1da1"),o=(n("96cf"),n("d3b7"),n("a434"),n("159b"),n("ac1f"),n("5319"),n("25f0"),n("038e")),c=[{value:"DATE",label:"Theo ngày"},{value:"PERCENT",label:"Theo lãi suất"}],l=[{value:"PREPAY",label:"Trả trước"},{value:"POSTPAID",label:"Trả sau"}],u={data:function(){return{id:this.$route.params.id,loading:!1,errors:{},form:{tenor:"",interest_rate:"",other_fees:[],insurance_fees:"",loan_conversion_fee:"",max_day_free:"",max_day_free_costs_incurred:"",tv1:"",tv2:"",money_tv:"",type_punishment:"",number_punishment:"",prepayment_penalty:""},fees_other_item:{label:"",value:""},optionPunish:c,typeFees:"",optionTypeFees:l,checkPunishment:[],moneny_date:"",number_percent:""}},computed:{},watch:{"form.number_punishment":function(e){"DATE"==this.form.type_punishment?this.moneny_date=this.form.number_punishment:this.number_percent=this.form.number_punishment},"form.type_punishment":function(e){this.checkPunishment.push(e),1!=this.checkPunishment.length&&(this.form.number_punishment="DATE"==e?this.moneny_date:this.number_percent)}},created:function(){this.id&&this.getData()},methods:{getData:function(){var e=this;Object(o["a"])(this.id).then((function(t){if(t.data.success===API_STATUS_SUCCESS){e.form.tenor=t.data.data.tenor;var n=t.data.data;e.form.interest_rate=n.interest_rate,e.form.insurance_fees=n.insurance_fees,e.form.loan_conversion_fee=n.loan_conversion_fee,e.form.max_day_free=n.max_day_free,e.form.max_day_free_costs_incurred=n.max_day_free_costs_incurred,e.form.tv1=e.$formatNumber(n.tv1),e.form.tv2=e.$formatNumber(n.tv2),e.form.money_tv=e.$formatNumber(n.money_tv),e.form.type_punishment=n.type_punishment?n.type_punishment:"DATE","DATE"===n.type_punishment?e.form.number_punishment=e.$formatNumber(n.number_punishment):e.form.number_punishment=n.number_punishment,e.form.prepayment_penalty=n.prepayment_penalty,e.form.other_fees=n.other_fees}else e.$showMessage(t.data.message,"warning")}))},formatInt:function(e){this.form[e]=this.$formatNumber(this.form[e])},addOther:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$myCanUpdate()){t.next=2;break}return t.abrupt("return");case 2:n=e.form.other_fees.some((function(e){return""==e.label})),r=e.form.other_fees.some((function(e){return""==e.value})),n||r?e.$showMessage("Khoản phí thêm chưa được nhập đầy đủ! ","warning"):(a=Object(s["a"])({},e.fees_other_item),e.form.other_fees.push(a));case 5:case"end":return t.stop()}}),t)})))()},removeOther:function(e){this.$myCanUpdate()&&this.form.other_fees.splice(e,1)},update:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$myCanUpdate()){t.next=2;break}return t.abrupt("return");case 2:return e.errors={},e.loading=!0,e.form.other_fees.forEach((function(e){e.value=parseFloat(e.value)})),n={insurance_fees:parseFloat(e.form.insurance_fees),interest_rate:parseFloat(e.form.interest_rate),loan_conversion_fee:parseFloat(e.form.loan_conversion_fee),max_day_free:e.stringToNumber(e.form.max_day_free),max_day_free_costs_incurred:e.stringToNumber(e.form.max_day_free_costs_incurred),money_tv:e.stringToNumber(e.form.money_tv),number_punishment:"DATE"==e.form.type_punishment?e.stringToNumber(e.form.number_punishment):parseFloat(e.form.number_punishment),prepayment_penalty:parseFloat(e.form.prepayment_penalty),tenor:e.stringToNumber(e.form.tenor),tv1:e.stringToNumber(e.form.tv1),tv2:e.stringToNumber(e.form.tv2),type_punishment:e.form.type_punishment,other_fees:e.form.other_fees},t.next=8,Object(o["c"])(e.id,n).then((function(t){t.data.success===API_STATUS_SUCCESS?(e.$showMessage(t.data.message,"success"),e.loading=!0,e.getData()):e.$showMessage(t.data.message,"warning")})).catch((function(t){e.requestError(t)}));case 8:e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()},requestError:function(e){e.status===HTTP_CODE_GONE?this.$showMessage(e.data.message,"warning"):e.status===HTTP_CODE_UNPROCESSABLE_ENTITY&&(this.errors=e.data.data.data)},formatPercent:function(e){this.form[e]=this.form[e].toString().replace(/,/g,".")},stringToNumber:function(e){return e=e.toString().replace(/\./g,""),""===e&&(e=0),e=parseInt(e),e}}},m=u,d=(n("d217"),n("2877")),p=Object(d["a"])(m,r,a,!1,null,null,null);t["default"]=p.exports},d217:function(e,t,n){"use strict";n("4a4c")},dbb4:function(e,t,n){var r=n("23e7"),a=n("83ab"),s=n("56ef"),i=n("fc6a"),o=n("06cf"),c=n("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var t,n,r=i(e),a=o.f,l=s(r),u={},m=0;while(l.length>m)n=a(r,t=l[m++]),void 0!==n&&c(u,t,n);return u}})},e439:function(e,t,n){var r=n("23e7"),a=n("d039"),s=n("fc6a"),i=n("06cf").f,o=n("83ab"),c=a((function(){i(1)})),l=!o||c;r({target:"Object",stat:!0,forced:l,sham:!o},{getOwnPropertyDescriptor:function(e,t){return i(s(e),t)}})}}]);
//# sourceMappingURL=loan-policy.b9b45e1b.js.map